# 동적 대시보드 시스템 관리자 가이드

## 📋 개요

이 가이드는 테넌트 관리자가 대시보드 관리 UI를 사용하여 역할별 대시보드를 설정하고 관리하는 방법을 설명합니다.

## 🎯 대시보드 관리 UI 접근

### 접근 경로

1. 관리자 계정으로 로그인
2. 관리자 대시보드 (`/admin/dashboard`) 접근
3. "대시보드 관리" 메뉴 카드 클릭
4. 또는 직접 `/admin/dashboards` 경로로 접근

## 📊 대시보드 목록 페이지

### 주요 기능

#### 1. 대시보드 목록 조회
- 현재 테넌트의 모든 대시보드가 표시됩니다
- 각 대시보드의 다음 정보가 표시됩니다:
  - 대시보드 이름
  - 역할
  - 타입
  - 활성화 상태
  - 기본 대시보드 여부

#### 2. 검색 및 필터링
- **검색**: 대시보드 이름으로 검색
- **필터**: 
  - 전체
  - 활성화된 대시보드만
  - 비활성화된 대시보드만

#### 3. 통계 정보
- 전체 대시보드 개수
- 활성화된 대시보드 개수
- 비활성화된 대시보드 개수
- 기본 대시보드 개수

#### 4. 대시보드 관리 기능
- **활성화/비활성화 토글**: 각 대시보드의 활성화 상태를 변경
- **삭제**: 대시보드 삭제 (기본 대시보드는 삭제 불가)
- **수정**: 대시보드 정보 수정

## ➕ 대시보드 생성

### 1. 생성 버튼 클릭
- 대시보드 목록 페이지 상단의 "대시보드 생성" 버튼 클릭

### 2. 대시보드 정보 입력

#### 필수 정보
- **대시보드 이름** (한글/영문)
  - 예: "학생 대시보드", "관리자 대시보드"
  
- **역할 선택**
  - 드롭다운에서 역할 선택
  - 한 역할에 여러 대시보드를 설정할 수 있음
  
- **대시보드 타입**
  - STUDENT: 학생 대시보드
  - TEACHER: 선생님 대시보드
  - ADMIN: 관리자 대시보드
  - CLIENT: 고객 대시보드
  - CONSULTANT: 상담사 대시보드
  - 기타 커스텀 타입

#### 선택 정보
- **설명**: 대시보드에 대한 설명
- **표시 순서**: 대시보드 목록에서의 정렬 순서 (낮을수록 먼저 표시)
- **활성화**: 대시보드 활성화 여부 (기본값: 활성화)
- **기본 대시보드**: 역할의 기본 대시보드로 설정 (기본값: 비활성화)
- **대시보드 설정 (JSON)**: 대시보드의 세부 설정 (선택 사항)

### 3. 대시보드 설정 JSON 예시

```json
{
  "layout": "grid",
  "columns": 3,
  "widgets": [
    {
      "id": "widget-1",
      "type": "statistics",
      "position": { "row": 0, "col": 0 },
      "config": {
        "title": "통계",
        "dataSource": "api/statistics"
      }
    }
  ],
  "theme": "light",
  "refreshInterval": 30000
}
```

### 4. 저장
- "저장" 버튼 클릭하여 대시보드 생성

## ✏️ 대시보드 수정

### 1. 수정 버튼 클릭
- 대시보드 목록에서 수정하려는 대시보드의 "수정" 버튼 클릭

### 2. 정보 수정
- 생성 시와 동일한 폼에서 정보 수정
- 모든 필드를 수정할 수 있음

### 3. 저장
- "저장" 버튼 클릭하여 변경사항 저장

## 🗑️ 대시보드 삭제

### 주의사항
- **기본 대시보드는 삭제할 수 없습니다**
- 삭제 전에 해당 역할의 사용자가 다른 대시보드를 사용할 수 있는지 확인

### 삭제 방법
1. 대시보드 목록에서 삭제하려는 대시보드의 "삭제" 버튼 클릭
2. 확인 대화상자에서 "삭제" 확인
3. 대시보드가 삭제되고 목록에서 제거됨

## 🔄 대시보드 활성화/비활성화

### 활성화
- 활성화된 대시보드는 해당 역할의 사용자가 사용할 수 있음
- 여러 대시보드가 활성화되어 있으면 기본 대시보드가 우선 사용됨

### 비활성화
- 비활성화된 대시보드는 사용자에게 표시되지 않음
- 대시보드를 일시적으로 숨기고 싶을 때 사용

### 토글 방법
1. 대시보드 목록에서 활성화/비활성화 토글 버튼 클릭
2. 상태가 즉시 변경됨

## ⭐ 기본 대시보드 설정

### 기본 대시보드란?
- 역할에 여러 대시보드가 있을 때 우선적으로 사용되는 대시보드
- 역할당 하나의 기본 대시보드만 설정 가능

### 설정 방법
1. 대시보드 생성/수정 시 "기본 대시보드" 체크박스 선택
2. 이미 다른 대시보드가 기본으로 설정되어 있으면 자동으로 해제됨

### 기본 대시보드의 역할
- 동적 대시보드 조회 시 우선 조회됨
- 대시보드가 없거나 비활성화된 경우 기본 대시보드로 폴백

## 📋 역할별 대시보드 설정 가이드

### 학원 업종

#### 학생 역할
- **대시보드 타입**: STUDENT
- **권장 이름**: "학생 대시보드"
- **기본 대시보드**: ✅ 설정 권장

#### 선생님 역할
- **대시보드 타입**: TEACHER
- **권장 이름**: "선생님 대시보드"
- **기본 대시보드**: ✅ 설정 권장

#### 관리자 역할
- **대시보드 타입**: ADMIN
- **권장 이름**: "관리자 대시보드"
- **기본 대시보드**: ✅ 설정 권장

### 상담 센터 업종

#### 고객 역할
- **대시보드 타입**: CLIENT
- **권장 이름**: "고객 대시보드"
- **기본 대시보드**: ✅ 설정 권장

#### 상담사 역할
- **대시보드 타입**: CONSULTANT
- **권장 이름**: "상담사 대시보드"
- **기본 대시보드**: ✅ 설정 권장

#### 관리자 역할
- **대시보드 타입**: ADMIN
- **권장 이름**: "관리자 대시보드"
- **기본 대시보드**: ✅ 설정 권장

## 🎨 대시보드 커스터마이징

### 대시보드 설정 JSON 활용

대시보드 설정 JSON을 사용하여 대시보드의 레이아웃과 위젯을 커스터마이징할 수 있습니다.

#### 기본 레이아웃 설정
```json
{
  "layout": "grid",
  "columns": 3,
  "theme": "light"
}
```

#### 위젯 추가
```json
{
  "widgets": [
    {
      "id": "widget-1",
      "type": "statistics",
      "position": { "row": 0, "col": 0 },
      "config": {
        "title": "통계",
        "dataSource": "api/statistics"
      }
    },
    {
      "id": "widget-2",
      "type": "chart",
      "position": { "row": 0, "col": 1 },
      "config": {
        "title": "차트",
        "chartType": "line"
      }
    }
  ]
}
```

## ⚠️ 주의사항

### 1. 기본 대시보드 필수
- 각 역할에는 최소 하나의 기본 대시보드가 있어야 합니다
- 기본 대시보드가 없으면 레거시 폴백이 사용됩니다

### 2. 활성화된 대시보드 필요
- 역할에 활성화된 대시보드가 없으면 레거시 폴백이 사용됩니다
- 최소 하나의 활성화된 대시보드를 유지하세요

### 3. 대시보드 삭제 시 주의
- 삭제 전에 해당 역할의 사용자에게 영향이 없는지 확인
- 기본 대시보드는 삭제할 수 없으므로, 삭제하려면 먼저 다른 대시보드를 기본으로 설정

### 4. 역할 변경 시
- 역할을 변경하면 해당 역할의 대시보드가 사용됩니다
- 역할 변경 후 대시보드가 표시되지 않으면 대시보드 설정을 확인하세요

## 🔍 문제 해결

### 문제 1: 대시보드가 표시되지 않음

**원인 및 해결**:
1. 대시보드가 비활성화되어 있는지 확인 → 활성화
2. 기본 대시보드가 설정되어 있는지 확인 → 기본 대시보드 설정
3. 역할에 대시보드가 매핑되어 있는지 확인 → 대시보드 생성

### 문제 2: 잘못된 대시보드가 표시됨

**원인 및 해결**:
1. 역할별 대시보드 매핑 확인 → 올바른 역할에 대시보드 매핑
2. 기본 대시보드 설정 확인 → 올바른 대시보드를 기본으로 설정
3. 활성화 상태 확인 → 올바른 대시보드 활성화

### 문제 3: 대시보드를 삭제할 수 없음

**원인 및 해결**:
1. 기본 대시보드인지 확인 → 다른 대시보드를 기본으로 설정 후 삭제
2. 권한 확인 → 관리자 권한이 있는지 확인

## 📚 관련 문서

- [동적 대시보드 시스템 개발자 가이드](./DYNAMIC_DASHBOARD_DEVELOPER_GUIDE.md)
- [테넌트 대시보드 관리 시스템](./TENANT_DASHBOARD_MANAGEMENT_SYSTEM.md)
- [동적 대시보드 다음 단계](./DYNAMIC_DASHBOARD_NEXT_STEPS.md)

---

**작성일**: 2025-01-XX  
**버전**: 1.0.0  
**작성자**: CoreSolution Development Team

