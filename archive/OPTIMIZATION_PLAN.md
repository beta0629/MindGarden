# 리소스 최적화 계획서

## 개요
프로젝트의 메소드 분석을 통해 식별된 사용되지 않는 메소드들을 제거하고, 전체적인 리소스 최적화를 위한 단계별 계획을 수립합니다.

## 현재 상황 분석

### 1. 전체 메소드 현황
- **컨트롤러 메소드**: 446개 (37개 파일)
- **서비스 메소드**: 695개 (50개 파일)
- **리포지토리 메소드**: 300개+ (30개 파일)
- **총 메소드**: 1,441개+

### 2. 사용되지 않는 메소드 현황
- **컨트롤러**: 10개 (BaseController 인터페이스)
- **서비스**: 12개 (AdminServiceImpl 8개, SalaryCalculationServiceImpl 4개)
- **리포지토리**: 37개 (ScheduleRepository 28개, UserRepository 9개)
- **총 제거 대상**: 59개

### 3. 최적화 효과 예상
- **코드 감소율**: 약 4.1% (59/1,441)
- **실제 사용률**: 95.9%
- **메모리 절약**: 약 10-15%
- **컴파일 시간 단축**: 약 5-10%

---

## 최적화 계획

### Phase 1: 즉시 제거 가능 (안전한 제거)

#### 1.1 BaseController 인터페이스 제거
**대상**: `src/main/java/com/mindgarden/consultation/controller/BaseController.java`
**제거 메소드**: 10개
**제거 이유**: 실제 구현체에서 사용되지 않는 인터페이스

**제거 단계**:
1. BaseController 인터페이스 파일 삭제
2. 관련 import 문 정리
3. 테스트 코드에서 BaseController 참조 제거

**예상 소요 시간**: 30분

#### 1.2 사용되지 않는 통계 메소드 제거
**대상**: 
- `AdminServiceImpl.getAllConsultantsWithSpecialty()`
- `AdminServiceImpl.getAllConsultantsWithVacationInfo()`
- `AdminServiceImpl.getAllClientsWithMappingInfo()`
- `SalaryCalculationServiceImpl.getTotalSalaryByConsultant()`
- `SalaryCalculationServiceImpl.getMonthlySalaryStatistics()`
- `SalaryCalculationServiceImpl.getSalaryTypeStatistics()`

**제거 단계**:
1. 서비스 구현체에서 메소드 제거
2. 관련 테스트 코드 제거
3. API 문서에서 해당 엔드포인트 제거

**예상 소요 시간**: 1시간

### Phase 2: 검증 후 제거 (신중한 검토 필요)

#### 2.1 복잡한 조회 메소드 제거
**대상**: 
- `AdminServiceImpl.getMappingsByConsultantId()`
- `AdminServiceImpl.getMappingsByClient()`
- `AdminServiceImpl.getMappingById()`
- `AdminServiceImpl.transferConsultant()`
- `AdminServiceImpl.getTransferHistory()`

**검증 방법**:
1. 프론트엔드 코드에서 해당 API 호출 여부 확인
2. 관리자 대시보드에서 사용 여부 확인
3. 향후 필요성 검토

**예상 소요 시간**: 2시간

#### 2.2 리포지토리 복잡한 조회 메소드 제거
**대상**: ScheduleRepository의 28개 메소드
- 페이지네이션 관련 메소드 (2개)
- 내담자별 조회 메소드 (4개)
- 시간 충돌 검사 메소드 (2개)
- 복잡한 통계 메소드 (20개)

**검증 방법**:
1. 각 메소드의 실제 호출 여부 확인
2. 서비스 레이어에서 사용 여부 확인
3. 향후 확장성 고려

**예상 소요 시간**: 3시간

### Phase 3: 미래 확장성 고려 (보류)

#### 3.1 관리자 전용 기능
**대상**: 
- `UserRepository`의 통계 메소드들
- `ScheduleRepository`의 고급 통계 메소드들

**고려사항**:
- 향후 관리자 대시보드 확장 시 필요할 수 있음
- 현재는 사용되지 않지만 기능적으로 유용함

**결정**: 보류 (향후 필요 시 재검토)

---

## 실행 계획

### Week 1: Phase 1 실행
**목표**: 안전한 메소드 제거 완료

**Day 1-2**: BaseController 인터페이스 제거
- [ ] BaseController.java 파일 삭제
- [ ] 관련 import 문 정리
- [ ] 테스트 코드 정리
- [ ] 빌드 테스트

**Day 3-4**: 사용되지 않는 통계 메소드 제거
- [ ] AdminServiceImpl 정리
- [ ] SalaryCalculationServiceImpl 정리
- [ ] 관련 테스트 코드 제거
- [ ] API 문서 업데이트

**Day 5**: 검증 및 테스트
- [ ] 전체 빌드 테스트
- [ ] 기능 테스트
- [ ] 성능 테스트

### Week 2: Phase 2 실행
**목표**: 검증 후 메소드 제거

**Day 1-2**: 복잡한 조회 메소드 검증
- [ ] 프론트엔드 코드 분석
- [ ] 관리자 대시보드 분석
- [ ] 사용 여부 최종 확인

**Day 3-4**: 검증된 메소드 제거
- [ ] AdminServiceImpl 정리
- [ ] 관련 테스트 코드 제거
- [ ] API 문서 업데이트

**Day 5**: 리포지토리 메소드 검증
- [ ] 각 메소드 호출 여부 확인
- [ ] 서비스 레이어 의존성 확인

### Week 3: Phase 2 완료
**목표**: 리포지토리 메소드 제거

**Day 1-3**: 리포지토리 메소드 제거
- [ ] ScheduleRepository 정리
- [ ] UserRepository 정리
- [ ] 관련 테스트 코드 제거

**Day 4-5**: 최종 검증
- [ ] 전체 시스템 테스트
- [ ] 성능 측정
- [ ] 문서 업데이트

---

## 리스크 관리

### 1. 높은 리스크
**대상**: BaseController 인터페이스 제거
**리스크**: 다른 컨트롤러에서 상속받고 있을 수 있음
**대응방안**: 제거 전 모든 컨트롤러에서 상속 여부 확인

### 2. 중간 리스크
**대상**: 복잡한 조회 메소드 제거
**리스크**: 향후 기능 확장 시 필요할 수 있음
**대응방안**: 제거 전 충분한 검증 및 백업

### 3. 낮은 리스크
**대상**: 통계 메소드 제거
**리스크**: 관리자 기능에서 사용될 수 있음
**대응방안**: 관리자 대시보드 기능 확인 후 제거

---

## 성능 모니터링

### 1. 제거 전 기준점 측정
- [ ] 메모리 사용량 측정
- [ ] 컴파일 시간 측정
- [ ] 애플리케이션 시작 시간 측정
- [ ] API 응답 시간 측정

### 2. 제거 후 성능 측정
- [ ] 메모리 사용량 비교
- [ ] 컴파일 시간 비교
- [ ] 애플리케이션 시작 시간 비교
- [ ] API 응답 시간 비교

### 3. 성능 개선 목표
- **메모리 사용량**: 10-15% 감소
- **컴파일 시간**: 5-10% 단축
- **애플리케이션 시작 시간**: 5% 단축
- **API 응답 시간**: 변화 없음 (기능적 영향 없음)

---

## 품질 보증

### 1. 코드 리뷰
- [ ] 제거된 메소드 리스트 검토
- [ ] 의존성 분석 검토
- [ ] 테스트 코드 정리 검토

### 2. 테스트 실행
- [ ] 단위 테스트 실행
- [ ] 통합 테스트 실행
- [ ] E2E 테스트 실행
- [ ] 성능 테스트 실행

### 3. 문서 업데이트
- [ ] API 문서 업데이트
- [ ] 개발자 가이드 업데이트
- [ ] README 업데이트

---

## 롤백 계획

### 1. 롤백 트리거 조건
- 빌드 실패
- 기능 테스트 실패
- 성능 저하 (10% 이상)
- 사용자 불만

### 2. 롤백 절차
1. Git을 통한 이전 버전으로 복원
2. 데이터베이스 스키마 복원 (필요 시)
3. 설정 파일 복원
4. 테스트 실행 및 검증

### 3. 롤백 후 조치
- 문제 원인 분석
- 수정된 계획 수립
- 재실행 일정 조정

---

## 예상 효과

### 1. 단기 효과 (1-2주)
- 코드베이스 크기 감소
- 컴파일 시간 단축
- 메모리 사용량 감소
- 개발자 생산성 향상

### 2. 중기 효과 (1-3개월)
- 유지보수성 향상
- 버그 발생률 감소
- 새로운 개발자 온보딩 시간 단축
- 코드 가독성 향상

### 3. 장기 효과 (3개월 이상)
- 시스템 안정성 향상
- 확장성 개선
- 기술 부채 감소
- 개발 비용 절약

---

## 결론

이 최적화 계획을 통해 총 59개의 사용되지 않는 메소드를 제거하여 코드베이스를 약 4.1% 최적화할 수 있습니다. 이를 통해 성능 향상, 유지보수성 개선, 개발 효율성 향상을 기대할 수 있습니다.

단계적 접근을 통해 리스크를 최소화하고, 충분한 검증을 거쳐 안전하게 최적화를 진행할 수 있습니다.
