# 역할별 프로세스 플로우차트

**작성일**: 2025-11-20  
**버전**: 1.0.0  
**상태**: 완료

---

## 📋 개요

역할별 주요 프로세스를 플로우차트로 정리한 문서입니다. 각 역할은 다른 프로세스를 가지지만, 공통적인 패턴을 공유합니다.

---

## 🎯 레벨별 프로세스 패턴

### 레벨 1: 기본 사용자 프로세스

#### 서비스 예약/신청 프로세스

```mermaid
flowchart TD
    A[대시보드 접근] --> B[서비스 목록 조회]
    B --> C[서비스 선택]
    C --> D[서비스 상세 확인]
    D --> E[일정 선택]
    E --> F{일정 가능?}
    F -->|아니오| G[다른 일정 선택]
    F -->|예| H[예약 정보 입력]
    G --> E
    H --> I[결제 필요?]
    I -->|예| J[결제 처리]
    I -->|아니오| K[예약 확인]
    J --> L{결제 성공?}
    L -->|실패| M[결제 실패 처리]
    L -->|성공| K
    K --> N[예약 저장]
    N --> O[예약 확인 알림]
    M --> H
```

#### 내역 조회 프로세스

```mermaid
flowchart TD
    A[대시보드 접근] --> B[내역 메뉴 선택]
    B --> C{내역 타입}
    C -->|예약/수강| D[예약/수강 내역 조회]
    C -->|결제| E[결제 내역 조회]
    C -->|알림| F[알림 내역 조회]
    D --> G[내역 목록 표시]
    E --> G
    F --> G
    G --> H[상세 정보 조회]
    H --> I[상세 정보 표시]
```

---

### 레벨 2: 서비스 제공자 프로세스

#### 일정 관리 프로세스

```mermaid
flowchart TD
    A[대시보드 접근] --> B[일정 관리 메뉴]
    B --> C{작업 타입}
    C -->|조회| D[일정 목록 조회]
    C -->|추가| E[일정 추가]
    C -->|수정| F[일정 수정]
    D --> G[일정 목록 표시]
    E --> H[일정 정보 입력]
    H --> I[시간 충돌 검사]
    I --> J{충돌 있음?}
    J -->|예| K[에러 메시지]
    J -->|아니오| L[일정 저장]
    F --> M[일정 정보 수정]
    M --> I
    L --> N[알림 발송]
    K --> H
```

#### 서비스 제공 프로세스

```mermaid
flowchart TD
    A[대시보드 접근] --> B[할당된 사용자 목록]
    B --> C[사용자 선택]
    C --> D[서비스 시작]
    D --> E[서비스 제공]
    E --> F[기록 작성]
    F --> G[기록 저장]
    G --> H[서비스 완료]
    H --> I[알림 발송]
```

---

### 레벨 3: 관리자 프로세스

#### 사용자 관리 프로세스

```mermaid
flowchart TD
    A[대시보드 접근] --> B[사용자 관리 메뉴]
    B --> C{작업 타입}
    C -->|조회| D[사용자 목록 조회]
    C -->|추가| E[사용자 추가]
    C -->|수정| F[사용자 수정]
    C -->|삭제| G[사용자 삭제]
    D --> H[사용자 목록 표시]
    E --> I[사용자 정보 입력]
    I --> J[역할 할당]
    J --> K[권한 설정]
    K --> L[지점 할당]
    L --> M[사용자 저장]
    F --> N[사용자 정보 수정]
    N --> J
    G --> O[사용자 삭제 확인]
    O --> P{확인}
    P -->|예| Q[사용자 삭제]
    P -->|아니오| R[취소]
    M --> S[알림 발송]
    Q --> T[관련 데이터 정리]
```

#### 통계 조회 프로세스

```mermaid
flowchart TD
    A[대시보드 접근] --> B[통계 메뉴]
    B --> C[기간 선택]
    C --> D[통계 카테고리 선택]
    D --> E[권한 확인]
    E --> F{권한 있음?}
    F -->|아니오| G[접근 거부]
    F -->|예| H[통계 데이터 조회]
    H --> I[데이터 집계]
    I --> J[차트/그래프 생성]
    J --> K[통계 표시]
    K --> L{리포트 다운로드?}
    L -->|예| M[리포트 생성]
    L -->|아니오| N[완료]
    M --> O[리포트 다운로드]
    G --> N
```

#### 공통 코드 관리 프로세스

```mermaid
flowchart TD
    A[대시보드 접근] --> B[설정 관리 메뉴]
    B --> C[공통 코드 관리 메뉴]
    C --> D[코드 그룹 선택]
    D --> E[코드 타입 필터]
    E --> F{코드 타입}
    F -->|CORE| G[CoreSolution 코드 조회]
    F -->|TENANT| H[입점사 코드 조회]
    G --> I[코드 목록 표시]
    H --> I
    I --> J{작업 타입}
    J -->|추가| K[코드 추가]
    J -->|수정| L[코드 수정]
    J -->|삭제| M[코드 삭제]
    K --> N[권한 확인]
    L --> N
    M --> N
    N --> O{권한 있음?}
    O -->|아니오| P[접근 거부]
    O -->|예| Q[코드 정보 입력/수정]
    Q --> R[코드 저장]
    P --> S[에러 메시지]
```

---

### 레벨 4: 최고 관리자 프로세스

#### 역할 관리 프로세스

```mermaid
flowchart TD
    A[대시보드 접근] --> B[역할 관리 메뉴]
    B --> C{작업 타입}
    C -->|조회| D[역할 목록 조회]
    C -->|추가| E[역할 추가]
    C -->|수정| F[역할 수정]
    C -->|삭제| G[역할 삭제]
    D --> H[역할 목록 표시]
    E --> I[역할 정보 입력]
    I --> J[권한 설정]
    J --> K[역할 저장]
    F --> L[역할 정보 수정]
    L --> J
    G --> M[역할 삭제 확인]
    M --> N{확인}
    N -->|예| O[역할 삭제]
    N -->|아니오| P[취소]
    K --> Q[권한 적용]
    O --> R[관련 사용자 확인]
```

#### 시스템 설정 프로세스

```mermaid
flowchart TD
    A[대시보드 접근] --> B[시스템 설정 메뉴]
    B --> C{설정 타입}
    C -->|테넌트| D[테넌트 설정]
    C -->|컴포넌트| E[컴포넌트 설정]
    C -->|요금제| F[요금제 설정]
    D --> G[설정 정보 수정]
    E --> G
    F --> G
    G --> H[설정 저장]
    H --> I[설정 적용]
    I --> J[알림 발송]
```

#### ERP 관리 프로세스 (BRANCH_SUPER_ADMIN, HQ_MASTER)

##### 구매 요청 프로세스

```mermaid
flowchart TD
    A[대시보드 접근] --> B[ERP 관리 메뉴]
    B --> C[구매 요청 메뉴]
    C --> D{작업 타입}
    D -->|생성| E[구매 요청 생성]
    D -->|조회| F[구매 요청 목록]
    E --> G[아이템 선택]
    G --> H[수량 입력]
    H --> I[사유 입력]
    I --> J[구매 요청 제출]
    F --> K[구매 요청 상세]
    K --> L{승인 권한?}
    L -->|예| M[승인/거부 처리]
    L -->|아니오| N[조회만 가능]
    M --> O[구매 주문 생성]
```

##### 예산 관리 프로세스

```mermaid
flowchart TD
    A[대시보드 접근] --> B[ERP 관리 메뉴]
    B --> C[예산 관리 메뉴]
    C --> D[예산 목록 조회]
    D --> E{작업 타입}
    E -->|추가| F[예산 추가]
    E -->|수정| G[예산 수정]
    E -->|조회| H[예산 상세 조회]
    F --> I[예산 정보 입력]
    G --> I
    I --> J[예산 저장]
    J --> K[예산 사용/환불 처리]
    K --> L[예산 통계 조회]
```

---

## 🎓 ACADEMY (학원) 프로세스

### 학생 (STUDENT) 프로세스

#### 강좌 신청 프로세스

```mermaid
flowchart TD
    A[대시보드 접근] --> B[강좌 목록 조회]
    B --> C[강좌 선택]
    C --> D[강좌 상세 확인]
    D --> E[수강 신청]
    E --> F[결제 처리]
    F --> G{결제 성공?}
    G -->|실패| H[결제 실패 처리]
    G -->|성공| I[수강 신청 완료]
    I --> J[알림 발송]
    H --> E
```

---

### 선생님 (TEACHER) 프로세스

#### 출석 체크 프로세스

```mermaid
flowchart TD
    A[대시보드 접근] --> B[반 관리 메뉴]
    B --> C[반 선택]
    C --> D[수업 일자 선택]
    D --> E[학생 목록 조회]
    E --> F[출석 체크]
    F --> G[출석 정보 저장]
    G --> H[출석률 계산]
    H --> I[알림 발송]
```

---

## 🏥 CONSULTATION (상담소) 프로세스

### 내담자 (CLIENT) 프로세스

**참고**: [MindGarden 예시 플로우차트](./PROCESS_FLOWCHARTS_EXAMPLES_MINDGARDEN.md) 참조

- 상담 예약 프로세스
- 상담 내역 조회 프로세스

---

### 상담사 (COUNSELOR) 프로세스

**참고**: [MindGarden 예시 플로우차트](./PROCESS_FLOWCHARTS_EXAMPLES_MINDGARDEN.md) 참조

- 일정 관리 프로세스
- 상담 기록 작성 프로세스

---

## ⚠️ 중요 사항

1. **범용 패턴 제공**
   - 이 문서는 범용적인 프로세스 패턴을 제공
   - 실제 입점사는 다른 프로세스를 가질 수 있음

2. **MindGarden은 예시**
   - MindGarden의 프로세스는 CONSULTATION 업종의 예시
   - 다른 상담소는 다른 프로세스를 가질 수 있음

3. **동적 프로세스**
   - 프로세스는 역할별로 동적으로 구성
   - 테넌트 관리자가 프로세스 커스터마이징 가능

---

## 🔗 관련 문서

- [프로세스 플로우차트](./PROCESS_FLOWCHARTS.md)
- [MindGarden 예시 플로우차트](./PROCESS_FLOWCHARTS_EXAMPLES_MINDGARDEN.md)
- [데이터 흐름도](./DATA_FLOW_DIAGRAM.md)

---

**마지막 업데이트**: 2025-11-20

