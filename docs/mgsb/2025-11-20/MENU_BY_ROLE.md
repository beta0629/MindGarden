# 역할별 메뉴 구조도

**작성일**: 2025-11-20  
**버전**: 1.0.0  
**상태**: 완료

---

## 📋 개요

역할별 메뉴 구조를 범용 패턴으로 정리한 문서입니다. 실제 입점사는 자신만의 메뉴 구조를 가질 수 있으며, MindGarden은 CONSULTATION 업종의 예시입니다.

---

## 🎯 범용 메뉴 패턴

### 레벨 1: 기본 사용자 (필수)

**공통 메뉴 패턴:**
```
대시보드
  └─ 홈

서비스/강좌
  ├─ 목록
  ├─ 상세
  └─ 예약/신청

내역
  ├─ 예약/수강 내역
  ├─ 결제 내역
  └─ 알림

프로필
  ├─ 내 정보
  ├─ 비밀번호 변경
  └─ 설정
```

**업종별 차이:**
- 학원: 강좌 목록, 수강 내역, 출석 확인, 성적 조회
- 상담소: 상담 예약, 상담 내역, 결제 내역
- 기타: 업종별 서비스 목록, 이용 내역

---

### 레벨 2: 서비스 제공자 (필수)

**공통 메뉴 패턴:**
```
대시보드
  └─ 홈

일정 관리
  ├─ 캘린더
  ├─ 일정 추가
  └─ 일정 수정

할당된 사용자
  ├─ 목록
  ├─ 상세
  └─ 관리

기록 작성
  ├─ 기록 작성
  └─ 기록 조회

통계
  └─ 자신의 서비스 통계

프로필
  └─ 내 정보
```

**업종별 차이:**
- 학원: 반 관리, 출석 체크, 성적 입력, 학생 관리
- 상담소: 일정 관리, 상담 기록 작성, 할당된 내담자 관리
- 기타: 업종별 서비스 제공 기능

---

### 레벨 3: 관리자 (옵션)

**공통 메뉴 패턴:**
```
대시보드
  └─ 홈

사용자 관리
  ├─ 사용자 목록
  ├─ 사용자 추가/수정
  └─ 역할 할당

통계/리포트
  ├─ 전체 통계
  ├─ 리포트 다운로드
  └─ 분석

일정 관리
  ├─ 전체 일정 조회
  └─ 일정 관리

결제 관리
  ├─ 결제 내역
  └─ 정산

설정 관리
  ├─ 시스템 설정
  └─ 알림 설정
```

**업종별 차이:**
- 학원: 학생/교사 관리, 강좌 관리, 출석 관리, 성적 관리
- 상담소: 상담사/내담자 관리, 상담 관리, 결제 관리
- 기타: 업종별 관리 기능

---

### 레벨 4: 최고 관리자 (옵션)

**공통 메뉴 패턴:**
```
레벨 3의 모든 메뉴
  +
역할 관리
  ├─ 역할 목록
  ├─ 역할 생성/수정
  └─ 권한 설정

시스템 설정
  ├─ 테넌트 설정
  └─ 고급 설정
```

---

## 🎓 ACADEMY (학원) 메뉴 구조

### 학생 (STUDENT)

```
대시보드
강좌 목록
수강 내역
  ├─ 수강 중인 강좌
  └─ 완료된 강좌
출석 확인
성적 조회
결제 내역
프로필
```

### 선생님 (TEACHER)

```
대시보드
반 관리
  ├─ 반 목록
  └─ 반 상세
출석 체크
성적 입력
학생 관리
  ├─ 학생 목록
  └─ 학생 상세
통계 (자신의 반)
프로필
```

### 원장 (DIRECTOR)

```
대시보드
학생 관리
교사 관리
강좌 관리
출석 관리
성적 관리
통계/리포트
결제 관리
설정
```

---

## 🏥 CONSULTATION (상담소) 메뉴 구조

### 내담자 (CLIENT)

**참고**: [MindGarden 예시 메뉴 구조](./MENU_EXAMPLES_MINDGARDEN.md) 참조

```
대시보드
상담 예약
상담 내역
상담 메시지
결제 내역
프로필
```

### 상담사 (COUNSELOR)

**참고**: [MindGarden 예시 메뉴 구조](./MENU_EXAMPLES_MINDGARDEN.md) 참조

```
대시보드
일정 관리
할당된 내담자
상담 기록
상담 통계
프로필
```

### 원장 (DIRECTOR)

**참고**: [MindGarden 예시 메뉴 구조](./MENU_EXAMPLES_MINDGARDEN.md) 참조

```
대시보드
사용자 관리
일정 관리
통계
결제 관리
설정
```

---

## 🔐 메뉴 접근 권한

### 권한 검증 프로세스

```
메뉴 접근 요청
  ↓
MenuService.hasMenuPermission()
  ↓
역할 확인
  ├─ 공통 메뉴: 모든 역할 접근 가능
  └─ 역할별 메뉴: 역할 확인
  ↓
권한 확인
  ├─ DynamicPermissionService
  └─ 권한 매트릭스
  ↓
접근 허용/거부
```

### 메뉴 그룹별 접근 권한

| 메뉴 그룹 | 레벨 1 | 레벨 2 | 레벨 3 | 레벨 4 |
|----------|--------|--------|--------|--------|
| COMMON_MENU | ✅ | ✅ | ✅ | ✅ |
| CLIENT_MENU / STUDENT_MENU | ✅ | ❌ | ❌ | ❌ |
| CONSULTANT_MENU / TEACHER_MENU | ❌ | ✅ | ❌ | ❌ |
| ADMIN_MENU | ❌ | ❌ | ✅ | ✅ |
| DIRECTOR_MENU | ❌ | ❌ | ❌ | ✅ |

**참고**: 실제 권한은 입점사마다 다를 수 있습니다.

---

## 🔄 동적 메뉴 경로

### 메뉴 경로 생성

```
메뉴 정보 조회
  ↓
역할 정보 확인
  ↓
동적 경로 생성
  ├─ 템플릿 코드 기반
  └─ 역할명 기반
  ↓
메뉴 경로 반환
```

**예시:**
- 템플릿 코드: `ACADEMY_STUDENT` → `/academy/student/dashboard`
- 역할명: "학생" → `/academy/student/dashboard`
- 기본 경로: `/dashboard` (권한 기반)

---

## 📱 반응형 메뉴 구조

### 데스크탑

- 사이드바 네비게이션
- 메인 메뉴 + 서브 메뉴 (드롭다운)
- 아이콘 + 텍스트

### 태블릿

- 햄버거 메뉴
- 메인 메뉴 + 서브 메뉴 (아코디언)
- 아이콘 + 텍스트

### 모바일

- 하단 네비게이션 (주요 메뉴만)
- 서브 메뉴는 페이지 내에서 접근
- 아이콘 중심

---

## ⚠️ 중요 사항

1. **범용 패턴 제공**
   - 이 문서는 범용적인 메뉴 패턴을 제공
   - 실제 입점사는 다른 메뉴 구조를 가질 수 있음

2. **MindGarden은 예시**
   - MindGarden의 메뉴 구조는 CONSULTATION 업종의 예시
   - 다른 상담소는 다른 메뉴 구조를 가질 수 있음

3. **동적 메뉴 시스템**
   - 메뉴는 CommonCode 기반으로 동적으로 관리
   - 테넌트 관리자가 메뉴 커스터마이징 가능

---

## 🔗 관련 문서

- [메뉴 구조도](./MENU_STRUCTURE.md)
- [MindGarden 예시 메뉴 구조](./MENU_EXAMPLES_MINDGARDEN.md)
- [동적 역할 시스템](./DYNAMIC_ROLE_SYSTEM.md)

---

**마지막 업데이트**: 2025-11-20

