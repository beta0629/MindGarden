# 스토리보드 패턴

**작성일**: 2025-11-20  
**버전**: 1.0.0  
**상태**: 완료

---

## 📋 개요

CoreSolution 플랫폼의 범용적인 스토리보드 패턴을 정의한 문서입니다. 입점사별로 다른 역할 구조를 가지지만, 공통적인 사용자 시나리오와 화면 흐름 패턴을 제공합니다.

---

## 🎯 범용 사용자 시나리오

### 시나리오 1: 사용자 로그인 및 대시보드 접근

**범용 패턴:**
```
1. 로그인 화면
   ↓
2. 인증 처리
   ↓
3. 역할 조회
   ↓
4. 동적 대시보드 경로 결정
   ↓
5. 역할별 대시보드 표시
```

**화면 흐름:**
- 로그인 화면 → 인증 → 역할별 대시보드

**인터랙션:**
- 이메일/비밀번호 입력
- 소셜 로그인 (선택)
- 역할별 대시보드 자동 라우팅

---

### 시나리오 2: 서비스 예약/신청

**범용 패턴:**
```
1. 서비스 목록 조회
   ↓
2. 서비스 선택
   ↓
3. 일정 선택
   ↓
4. 예약 정보 입력
   ↓
5. 예약 확인
   ↓
6. 결제 (필요시)
   ↓
7. 예약 완료
```

**화면 흐름:**
- 대시보드 → 서비스 목록 → 서비스 상세 → 일정 선택 → 예약 정보 입력 → 결제 → 예약 완료

**인터랙션:**
- 캘린더에서 일정 선택
- 예약 정보 폼 입력
- 결제 처리 (필요시)

---

### 시나리오 3: 서비스 제공자 - 일정 관리

**범용 패턴:**
```
1. 일정 목록 조회
   ↓
2. 일정 추가/수정
   ↓
3. 일정 상태 관리
   ↓
4. 예약 확인
   ↓
5. 서비스 제공
   ↓
6. 기록 작성
```

**화면 흐름:**
- 대시보드 → 일정 관리 → 일정 목록 → 일정 추가/수정 → 예약 확인 → 기록 작성

**인터랙션:**
- 캘린더에서 일정 추가
- 드래그 앤 드롭으로 일정 이동
- 예약 상태 변경
- 기록 작성 폼

---

### 시나리오 4: 관리자 - 사용자 관리

**범용 패턴:**
```
1. 사용자 목록 조회
   ↓
2. 사용자 검색/필터링
   ↓
3. 사용자 상세 조회
   ↓
4. 사용자 추가/수정
   ↓
5. 역할 할당
   ↓
6. 권한 설정
   ↓
7. 저장
```

**화면 흐름:**
- 대시보드 → 사용자 관리 → 사용자 목록 → 사용자 상세 → 역할 할당 → 권한 설정 → 저장

**인터랙션:**
- 테이블에서 사용자 검색/필터링
- 사용자 추가/수정 모달
- 역할 선택 드롭다운
- 권한 체크박스

---

### 시나리오 5: 관리자 - 통계 조회

**범용 패턴:**
```
1. 통계 대시보드 접근
   ↓
2. 기간 선택
   ↓
3. 통계 데이터 조회
   ↓
4. 차트/그래프 표시
   ↓
5. 리포트 다운로드 (선택)
```

**화면 흐름:**
- 대시보드 → 통계 → 기간 선택 → 통계 데이터 표시 → 리포트 다운로드

**인터랙션:**
- 날짜 범위 선택
- 차트/그래프 인터랙션
- 리포트 다운로드 버튼

---

### 시나리오 6: 관리자 - 공통 코드 관리

**범용 패턴:**
```
1. 설정 관리 메뉴 접근
   ↓
2. 공통 코드 관리 메뉴
   ↓
3. 코드 그룹 선택
   ├─ CoreSolution 공통 코드 (읽기 전용)
   └─ 입점사 공통 코드 (읽기/쓰기)
   ↓
4. 코드 목록 조회
   ├─ 코드 그룹별 필터
   └─ 코드 타입별 필터 (CORE/TENANT)
   ↓
5. 코드 추가/수정/삭제
   ├─ 코드 추가 (입점사 코드만)
   ├─ 코드 수정 (입점사 코드만)
   └─ 코드 삭제 (입점사 코드만)
   ↓
6. 권한 확인
   ├─ HQ Admin: Core 코드 수정 가능
   └─ Tenant Admin: Tenant 코드만 수정 가능
```

**화면 흐름:**
- 대시보드 → 설정 관리 → 공통 코드 관리 → 코드 그룹 선택 → 코드 목록 → 코드 추가/수정/삭제

**인터랙션:**
- 코드 그룹 드롭다운 선택
- 코드 타입 필터 (CORE/TENANT)
- 코드 추가 버튼
- 코드 수정/삭제 버튼
- 코드 정보 입력 폼

---

### 시나리오 6: ERP 관리 - 구매 요청 및 승인

**범용 패턴:**
```
1. ERP 대시보드 접근
   ↓
2. 구매 요청 생성
   ├─ 아이템 선택
   ├─ 수량 입력
   └─ 사유 입력
   ↓
3. 구매 요청 제출
   ↓
4. 관리자 승인 대기
   ↓
5. 승인/거부 처리
   ↓
6. 구매 주문 생성 (승인 시)
   ↓
7. 구매 완료
```

**화면 흐름:**
- 대시보드 → ERP 관리 → 구매 요청 → 아이템 선택 → 수량 입력 → 승인 대기 → 구매 주문 → 구매 완료

**인터랙션:**
- 아이템 검색 및 선택
- 수량 입력
- 사유 입력
- 승인/거부 버튼

---

### 시나리오 7: ERP 관리 - 예산 관리

**범용 패턴:**
```
1. ERP 대시보드 접근
   ↓
2. 예산 관리 메뉴
   ↓
3. 예산 목록 조회
   ↓
4. 예산 추가/수정
   ├─ 예산 항목 입력
   ├─ 예산 금액 입력
   └─ 예산 기간 설정
   ↓
5. 예산 사용/환불 처리
   ↓
6. 예산 통계 조회
```

**화면 흐름:**
- 대시보드 → ERP 관리 → 예산 관리 → 예산 목록 → 예산 추가/수정 → 예산 사용/환불 → 예산 통계

**인터랙션:**
- 예산 항목 입력
- 예산 금액 입력
- 예산 기간 선택
- 예산 사용/환불 처리

---

## 📊 역할별 주요 기능 패턴

### 레벨 1: 기본 사용자 (필수)

**주요 기능:**
- 자신의 데이터 조회
- 서비스 예약/신청
- 일정 조회
- 결제

**화면 구성:**
- 대시보드 (자신의 정보 요약)
- 서비스 목록
- 예약 내역
- 결제 내역
- 프로필 설정

---

### 레벨 2: 서비스 제공자 (필수)

**주요 기능:**
- 할당된 사용자 관리
- 일정 관리
- 서비스 제공
- 기록 작성

**화면 구성:**
- 대시보드 (할당된 사용자 요약)
- 일정 관리
- 할당된 사용자 목록
- 기록 작성
- 통계 (자신의 서비스 통계)

---

### 레벨 3: 관리자 (옵션)

**주요 기능:**
- 테넌트 전체 사용자 관리
- 통계 조회
- 설정 관리
  - 공통 코드 관리 (입점사 코드만)
  - 시스템 설정
- 결제 관리

**화면 구성:**
- 대시보드 (테넌트 전체 통계)
- 사용자 관리
- 통계/리포트
- 설정 관리
  - 공통 코드 관리
  - 시스템 설정
- 결제 관리

---

### 레벨 4: 최고 관리자 (옵션)

**주요 기능:**
- 레벨 3의 모든 기능
- 역할 관리
- 시스템 설정
- ERP 관리 (구매 요청 승인, 예산 관리 등)
- 모든 데이터 접근

**화면 구성:**
- 레벨 3과 동일한 대시보드
- 추가: 역할 관리
- 추가: 시스템 설정
- 추가: ERP 관리 (BRANCH_SUPER_ADMIN, HQ_MASTER 등)

---

### ERP 관리자 (BRANCH_SUPER_ADMIN, HQ_MASTER 등)

**주요 기능:**
- ERP 대시보드 조회
- 구매 요청 관리
- 구매 승인 처리
- 아이템 관리
- 예산 관리
- 주문 관리

**화면 구성:**
- ERP 대시보드
- 구매 요청 목록
- 구매 승인 목록
- 아이템 관리
- 예산 관리
- 주문 관리

---

## 🔄 화면 전환 패턴

### 기본 네비게이션

```
대시보드 (홈)
  ├─ 서비스 목록
  ├─ 일정 관리
  ├─ 사용자 관리
  ├─ 통계
  ├─ 설정
  └─ 프로필
```

### 모달 패턴

- 사용자 추가/수정: 모달
- 역할 할당: 모달
- 예약 정보 입력: 모달
- 설정 변경: 모달

### 페이지 전환 패턴

- 목록 → 상세: 페이지 전환
- 상세 → 수정: 페이지 전환
- 통계 조회: 페이지 전환

---

## 📱 반응형 디자인 패턴

### 데스크탑

- 사이드바 네비게이션
- 테이블 형태의 목록
- 다중 컬럼 레이아웃

### 태블릿

- 햄버거 메뉴
- 카드 형태의 목록
- 2컬럼 레이아웃

### 모바일

- 하단 네비게이션
- 리스트 형태의 목록
- 1컬럼 레이아웃

---

## 🎨 UI 컴포넌트 패턴

### 공통 컴포넌트

- 버튼: Primary, Secondary, Danger
- 입력 필드: Text, Select, Date, Time
- 테이블: 정렬, 필터링, 페이징
- 모달: 확인, 입력, 정보 표시
- 알림: 성공, 경고, 오류

### 대시보드 위젯

- 통계 카드: 숫자, 차트, 그래프
- 목록 위젯: 최근 항목, 빠른 액션
- 캘린더 위젯: 일정 표시

---

## 🔗 관련 문서

- [MindGarden 예시 스토리보드](./STORYBOARD_EXAMPLES_MINDGARDEN.md)
- [업종별 스토리보드](./STORYBOARD_BY_BUSINESS_TYPE.md)
- [IA 구조도](./IA_ARCHITECTURE.md)

---

**마지막 업데이트**: 2025-11-20

