<!-- 테블릿 전용 헤더 -->
<header class="tablet-header" th:fragment="tablet-header">
    <div class="tablet-header-content">
        <!-- 로고 -->
        <div class="tablet-logo">
            <a href="/" class="logo-link">
                <i class="bi bi-flower1"></i>
                <span class="logo-text">MindGarden</span>
            </a>
        </div>
        
        <!-- 테블릿 메뉴 토글 -->
        <button class="tablet-menu-toggle" type="button" data-tablet-menu-toggle>
            <i class="bi bi-list"></i>
        </button>
    </div>
</header>

<!-- 테블릿 사이드바 -->
<aside class="tablet-sidebar" data-tablet-side-menu th:fragment="tablet-sidebar">
    <div class="tablet-sidebar-header">
        <h3>MindGarden</h3>
        <button class="tablet-sidebar-close" type="button">
            <i class="bi bi-x-lg"></i>
        </button>
    </div>
    <nav class="tablet-nav">
        <a href="/" class="tablet-nav-item" th:classappend="${#httpServletRequest.requestURI == '/' ? 'active' : ''}">
            <i class="tablet-nav-icon bi bi-house-door"></i>
            홈
        </a>
        <a href="/consultation" class="tablet-nav-item" th:classappend="${#httpServletRequest.requestURI.startsWith('/consultation') ? 'active' : ''}">
            <i class="tablet-nav-icon bi bi-calendar-check"></i>
            상담관리
        </a>
        <a href="/clients" class="tablet-nav-item" th:classappend="${#httpServletRequest.requestURI.startsWith('/clients') ? 'active' : ''}">
            <i class="tablet-nav-icon bi bi-people"></i>
            내담자관리
        </a>
        <a href="/consultants" class="tablet-nav-item" th:classappend="${#httpServletRequest.requestURI.startsWith('/consultants') ? 'active' : ''}">
            <i class="tablet-nav-icon bi bi-person-badge"></i>
            상담사관리
        </a>
        <a href="/reports" class="tablet-nav-item" th:classappend="${#httpServletRequest.requestURI.startsWith('/reports') ? 'active' : ''}">
            <i class="tablet-nav-icon bi bi-graph-up"></i>
            리포트
        </a>
        <a href="/settings" class="tablet-nav-item" th:classappend="${#httpServletRequest.requestURI.startsWith('/settings') ? 'active' : ''}">
            <i class="tablet-nav-icon bi bi-gear"></i>
            설정
        </a>
    </nav>
</aside>

<!-- 테블릿 오버레이 -->
<div class="tablet-overlay" data-tablet-overlay th:fragment="tablet-overlay"></div>

<!-- 테블릿 네비게이션 스크립트 -->
<script th:fragment="tablet-navigation-script">
// 테블릿 네비게이션 기능
document.addEventListener('DOMContentLoaded', function() {
    const menuToggle = document.querySelector('[data-tablet-menu-toggle]');
    const sidebar = document.querySelector('[data-tablet-side-menu]');
    const overlay = document.querySelector('[data-tablet-overlay]');
    const closeButton = document.querySelector('.tablet-sidebar-close');
    
    // 메뉴 토글
    if (menuToggle && sidebar) {
        menuToggle.addEventListener('click', function() {
            sidebar.classList.toggle('active');
            if (overlay) overlay.classList.toggle('active');
            document.body.classList.toggle('sidebar-open');
        });
    }
    
    // 사이드바 닫기
    if (closeButton && sidebar) {
        closeButton.addEventListener('click', function() {
            sidebar.classList.remove('active');
            if (overlay) overlay.classList.remove('active');
            document.body.classList.remove('sidebar-open');
        });
    }
    
    // 오버레이 클릭 시 사이드바 닫기
    if (overlay) {
        overlay.addEventListener('click', function() {
            sidebar.classList.remove('active');
            overlay.classList.remove('active');
            document.body.classList.remove('sidebar-open');
        });
    }
    
    // ESC 키로 사이드바 닫기
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && sidebar && sidebar.classList.contains('active')) {
            sidebar.classList.remove('active');
            if (overlay) overlay.classList.remove('active');
            document.body.classList.remove('sidebar-open');
        }
    });
    
    // 현재 페이지에 따른 활성 메뉴 표시
    const currentPath = window.location.pathname;
    const navItems = document.querySelectorAll('.tablet-nav-item');
    
    navItems.forEach(item => {
        const href = item.getAttribute('href');
        if (href === currentPath || 
            (href !== '/' && currentPath.startsWith(href))) {
            item.classList.add('active');
        } else {
            item.classList.remove('active');
        }
    });
});
</script>
