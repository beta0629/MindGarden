# Changelog

All notable changes to this project will be documented in this file.

## [2025-01-09] - 휴가 관리 시스템 대폭 개선

### 🆕 새로운 기능
- **세밀한 반반차 휴가 유형 추가**
  - 오전 반반차 1: 09:00-11:00 (2시간)
  - 오전 반반차 2: 11:00-13:00 (2시간)
  - 오후 반반차 1: 14:00-16:00 (2시간)
  - 오후 반반차 2: 16:00-18:00 (2시간)

- **관리자 휴가 등록 기능**
  - 스케줄 페이지에서 "휴가 등록" 버튼 추가
  - 상담사별 휴가 직접 등록 가능
  - 휴가 유형별 자동 시간 설정
  - 휴가 사유 입력 기능

- **스마트 스케줄 제한 시스템**
  - 휴가 중인 시간대 자동 제한
  - 반반차 휴가 시 정확한 2시간만 제한
  - 점심시간(13:00-14:00) 항상 사용 가능

### 🔧 개선사항
- **휴가 정보 표시 개선**
  - 캘린더에서 휴가 유형별 정확한 시간 범위 표시
  - 이모지를 활용한 직관적 표시
  - 휴가 상세 모달에서 상세 정보 표시

- **API 응답 구조 개선**
  - 휴가 정보 API 응답 구조 통일
  - 상담사별 휴가 정보 필터링 개선

- **데이터베이스 스키마 업데이트**
  - `vacations` 테이블 ENUM 확장
  - 새로운 휴가 유형 코드 값 추가
  - 기존 데이터 마이그레이션 스크립트 제공

### 🐛 버그 수정
- 휴가 정보가 스케줄 등록 시 제대로 반영되지 않던 문제 해결
- API 응답 구조 불일치로 인한 휴가 정보 로드 실패 수정
- 반반차 휴가 시 잘못된 시간대 제한 문제 해결
- 휴가 상세 모달에서 휴가 유형 표시 오류 수정

### 🔄 백엔드 변경사항
- `VacationType` enum에 새로운 반반차 유형 추가
- `ConsultantAvailabilityServiceImpl` 휴가 시간 확인 로직 개선
- `ScheduleServiceImpl` 휴가 데이터 매핑 개선
- `ScheduleDto`에 `vacationType` 필드 추가

### 🎨 프론트엔드 변경사항
- `VacationManagementModal.js`: 새로운 반반차 유형 지원
- `TimeSlotGrid.js`: 휴가 시간 확인 로직 개선
- `ScheduleDetailModal.js`: 휴가 유형별 표시 개선
- API 응답 구조에 맞춘 데이터 처리 로직 수정

### 📊 데이터베이스 변경사항
- `vacations` 테이블 `vacation_type` ENUM 확장
- `code_values` 테이블에 새로운 휴가 유형 코드 추가
- 기존 `MORNING_HALF`, `AFTERNOON_HALF` 데이터 마이그레이션

### 📚 문서 업데이트
- 휴가 시스템 업데이트 상세 문서 추가 (`docs/VACATION_SYSTEM_UPDATE.md`)
- README.md에 휴가 관리 시스템 기능 추가
- API 문서 업데이트

### 🧪 테스트
- 새로운 반반차 휴가 유형 등록 테스트
- 스케줄 등록 시 휴가 시간 제한 테스트
- 휴가 정보 표시 정확성 테스트
- API 엔드포인트 통합 테스트

---

## [이전 버전들]

### [2025-01-08] - 초기 개발
- 기본 상담 관리 시스템 구축
- OAuth2 소셜 로그인 구현
- 사용자 역할 기반 접근 제어
- 기본 스케줄 관리 기능
- 상담사-내담자 매핑 시스템
