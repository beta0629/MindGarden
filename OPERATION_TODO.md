# 🚀 MindGarden 운영 TODO

## ✅ 완료된 작업

### 🔧 백엔드 시스템
- [x] **Spring Boot 프로젝트 구조 설정**
- [x] **Hibernate JPA 엔티티 설계**
  - [x] User 엔티티 (기본 사용자)
  - [x] Client 엔티티 (내담자)
  - [x] Consultant 엔티티 (상담사)
  - [x] ConsultantClientMapping 엔티티 (매핑)
- [x] **OAuth2 소셜 로그인 구현**
  - [x] Kakao 로그인
  - [x] Naver 로그인
- [x] **JWT 인증 시스템**
- [x] **관리자 API 구현**
  - [x] 상담사 관리 API
  - [x] 내담자 관리 API
  - [x] 매핑 관리 API
  - [x] 사용자 역할 관리 API
- [x] **UserRole enum 구현**
  - [x] CLIENT, CONSULTANT, ADMIN, SUPER_ADMIN
  - [x] 역할 변경 기능
  - [x] 타입 안전성 보장
- [x] **결제 승인 및 세션 관리 시스템**
  - [x] PaymentStatus enum (PENDING, CONFIRMED, APPROVED, REJECTED, REFUNDED)
  - [x] ConsultantClientMapping에 결제 관련 필드 추가
  - [x] 세션 패키지 관리 (totalSessions, remainingSessions, usedSessions)
  - [x] 관리자 승인 워크플로우
- [x] **스케줄 관리 시스템**
  - [x] ConsultationType enum (상담 유형별 기본 시간 설정)
  - [x] Schedule 엔티티 및 Repository
  - [x] ScheduleService 및 ScheduleServiceImpl
  - [x] 시간 충돌 검사 및 10분 휴식 시간 적용
  - [x] 권한 기반 스케줄 조회 (상담사는 자신만, 관리자는 전체)
- [x] **상수 관리 시스템**
  - [x] ScheduleConstants 클래스 생성
  - [x] 하드코딩된 값들을 상수로 통합 관리
  - [x] 중복 변수 제거 및 유지보수성 향상

### 🎨 프론트엔드 시스템
- [x] **React 프로젝트 구조 설정**
- [x] **관리자 대시보드 구현**
  - [x] 통계 카드 (상담사, 내담자, 매핑 수)
  - [x] 상담사 관리 컴포넌트
  - [x] 내담자 관리 컴포넌트
  - [x] 매핑 관리 컴포넌트
  - [x] 사용자 관리 컴포넌트
- [x] **기존 대시보드 디자인 패턴 적용**
  - [x] summary-panels 구조
  - [x] panel-header, panel-content 스타일
  - [x] 통일된 색상 및 레이아웃
- [x] **컴포넌트 분리 및 재사용성 향상**
- [x] **개발 모드 기능**
  - [x] 테스트 데이터 생성
  - [x] isDev 프로퍼티 활용

### 🗄️ 데이터베이스
- [x] **MySQL 데이터베이스 설계**
- [x] **마이그레이션 스크립트 작성**
- [x] **인덱스 최적화**

### 📚 문서화
- [x] **API 문서 작성**
- [x] **시스템 설계 문서**
- [x] **개발 가이드 문서**

## 🔄 진행 중인 작업

### 🧪 테스트 및 검증
- [ ] **결제 승인 및 세션 관리 시스템 테스트**
  - [ ] 결제 승인 워크플로우 테스트
  - [ ] 세션 사용 및 관리 테스트
  - [ ] 관리자 승인 권한 검증
- [ ] **스케줄 관리 시스템 테스트**
  - [ ] 시간 충돌 검사 테스트
  - [ ] 권한 기반 스케줄 조회 테스트
  - [ ] 상담 유형별 시간 설정 테스트
- [ ] **프론트엔드 컴포넌트 테스트**
  - [ ] 각 관리 컴포넌트 동작 확인
  - [ ] 에러 처리 검증
  - [ ] 사용자 경험 개선

## 📋 남은 작업

### 🔧 백엔드 개선
- [ ] **UserService에 getAllUsers 메서드 추가**
- [ ] **사용자 목록 조회 API 완성**
- [ ] **역할 변경 권한 검증 강화**
- [ ] **API 응답 형식 표준화**
- [ ] **FullCalendar 통합**
  - [ ] 스케줄 시각화 컴포넌트
  - [ ] 드래그 앤 드롭 스케줄 관리
  - [ ] 실시간 업데이트

### 🎨 프론트엔드 개선
- [ ] **사용자 목록 표시 기능 완성**
- [ ] **역할 변경 UI/UX 개선**
- [ ] **실시간 데이터 업데이트**
- [ ] **페이지네이션 구현**
- [ ] **스케줄 관리 UI**
  - [ ] FullCalendar 기반 스케줄 뷰
  - [ ] 상담사별 스케줄 관리
  - [ ] 결제 승인 상태 표시

### 🧪 테스트 및 배포
- [ ] **전체 시스템 통합 테스트**
- [ ] **성능 테스트**
- [ ] **보안 테스트**
- [ ] **배포 환경 구성**

## 🎯 다음 우선순위

1. **결제 승인 및 세션 관리 시스템 테스트** - 전체 워크플로우 검증
2. **스케줄 관리 시스템 테스트** - 시간 충돌 검사 및 권한 검증
3. **FullCalendar 통합** - 스케줄 시각화 및 관리 UI 구현
4. **UserService getAllUsers 메서드 구현** - 사용자 목록 조회 기능 완성
5. **관리자 대시보드 통합 테스트** - 전체 기능 동작 확인

## 📝 참고사항

- **isDev 프로퍼티**: 개발 모드에서만 테스트 기능 활성화
- **UserRole enum**: 타입 안전성과 관리 편의성 향상
- **컴포넌트 분리**: 재사용성과 유지보수성 개선
- **기존 디자인 패턴**: 일관된 UI/UX 제공
- **PaymentStatus enum**: 결제 승인 워크플로우 관리
- **ConsultationType enum**: 상담 유형별 기본 시간 설정 (50분, 100분, 60분 등)
- **ScheduleConstants**: 스케줄 관련 상수 통합 관리, 중복 변수 제거
- **권한 기반 데이터 접근**: 상담사는 자신의 스케줄만, 관리자는 전체 스케줄 조회
