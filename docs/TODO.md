# MindGarden TODO 목록

## 🎯 최종 목표: 프랜차이즈 시스템 구축

**Vision**: MindGarden 상담 시스템을 프랜차이즈 모델로 확장하여 전국 여러 지점에서 운영할 수 있는 통합 관리 시스템 구축

---

## 📋 전체 TODO 현황

### ✅ 완료된 항목 (최근 업데이트 - 2025-09-16)

#### 🔧 상담기록 시스템 개선
- [x] **상담기록 조회 전용 페이지 분리**: `ConsultationRecordView.js` 생성으로 작성과 조회 기능 분리
- [x] **상태 필터 옵션 최적화**: 상담기록에 적합한 상태만 필터링 (완료, 대기, 전체)
- [x] **오류 처리 및 UX 개선**: 구체적인 오류 메시지, 재시도 기능, React 오류 수정
- [x] **상담기록 상세 조회 API**: `GET /api/consultant/{consultantId}/consultation-records/{recordId}` 추가

#### 🛡️ 데이터 일관성 시스템 구축
- [x] **데이터 일관성 검증 API**: 불일치 데이터 자동 감지 시스템 구축
- [x] **자동 데이터 정리 도구**: 불일치 데이터 자동 복구 API 제공
- [x] **상태 동기화 메커니즘**: 상담 완료 시 스케줄 상태 자동 동기화
- [x] **데이터 검증 로직**: 상담기록 생성 시 스케줄 검증 추가

#### 🔒 보안 강화 및 하드코딩 제거
- [x] **하드코딩된 민감한 데이터 검색**: 전체 코드베이스에서 하드코딩된 시크릿, API 키, URL 등 검색 완료
- [x] **보안 TODO 문서화**: SECURITY_TODO.md 생성으로 보안 강화 계획 수립
- [x] **보안 위험도 평가**: 상담 시스템 특성에 맞는 현실적인 보안 수준 설정
- [x] **토스 결제 보안 계획**: 토스 결제 연계 시 함께 진행할 보안 강화 항목 계획 수립

#### 🔧 시스템 개선 및 버그 수정
- [x] **API 엔드포인트 오류 해결**: `/api/admin/users/{id}` 엔드포인트 추가로 500 오류 해결
- [x] **Jackson 직렬화 오류 해결**: Hibernate 프록시 객체 JSON 변환 오류 수정
- [x] **동적 역할 표시명 시스템**: 하드코딩된 역할 표시명을 백엔드 API 기반 동적 로딩으로 변경
- [x] **역할 매핑 수정**: `superadmin@mindgarden.com` 계정의 역할 표시명 "본점수퍼어드민"으로 수정
- [x] **날짜 선택기 개선**: 상담 완료 통계 페이지의 날짜 변경 기능 디버깅 및 개선

#### 🏢 ERP 메뉴 시스템 구축
- [x] **ERP 메뉴 구조 설계**: BRANCH_SUPER_ADMIN 전용 ERP 메뉴 그룹 생성
- [x] **ERP 메뉴 데이터 추가**: 구매, 예산, 재무, 보고서 등 5개 ERP 서브메뉴 추가
- [x] **권한 기반 메뉴 접근**: BRANCH_SUPER_ADMIN과 HQ_MASTER만 ERP 메뉴 접근 가능
- [x] **HQ_MASTER 전체 권한**: 최고 관리자에게 모든 메뉴 그룹 접근 권한 부여
- [x] **ERP 라우팅 연결**: `/admin/erp/*` 경로로 ERP 페이지 라우팅 연결

#### 🔐 권한 시스템 고도화
- [x] **다중 메뉴 그룹 지원**: 사용자 역할별로 여러 메뉴 그룹 접근 가능하도록 확장
- [x] **동적 메뉴 로딩**: 공통 코드 기반 메뉴 시스템으로 완전 전환
- [x] **역할별 메뉴 분리**: ADMIN_MENU, BRANCH_SUPER_ADMIN_MENU, HQ_ADMIN_MENU 등 역할별 메뉴 그룹 분리

#### 📅 스케줄 시스템 중앙화 및 개선
- [x] **스케줄 API 중복 제거**: ConsultantController의 스케줄 API를 ScheduleController로 통합
- [x] **스케줄 서비스 중앙화**: BranchScheduleService를 ScheduleService에 통합하여 중앙 관리
- [x] **하드코딩 제거**: BranchStatisticsServiceImpl과 BranchDataFilterServiceImpl에서 공통 코드 사용
- [x] **프론트엔드 공통 코드 시스템**: commonCodeUtils.js 생성으로 하드코딩 제거
- [x] **스케줄 API 오류 해결**: 400 오류 및 StaleStateException 해결
- [x] **상담사 이름 표시 개선**: 스케줄 상세정보 및 휴가 이벤트에서 상담사 이름 정상 표시
- [x] **시간 슬롯 충돌 검사**: 이미 예약된 시간대 비활성화 기능 구현

#### 🎨 대시보드 UI/UX 개선
- [x] **오늘의 상담 표시 문제 해결**: 대시보드에서 오늘의 상담이 표시되지 않는 문제 수정
- [x] **2열 그리드 레이아웃**: 최대 8개 상담을 효율적으로 표시하는 2열 그리드 시스템 적용
- [x] **스크롤 기능 개선**: 많은 상담이 있을 때 스크롤 가능한 영역 제공
- [x] **반응형 카드 디자인**: 컴팩트하고 직관적인 상담 카드 디자인

### ✅ 완료된 항목 (기반 시스템)
- [x] 수퍼어드민 역할 정의 및 권한 시스템 구현
- [x] 수퍼어드민 전용 메뉴 및 대시보드 구현
- [x] 수퍼어드민 전용 API 엔드포인트 구현
- [x] 수퍼어드민 권한 검증 로직 구현
- [x] 수퍼어드민 사용자 관리 기능 구현
- [x] 수퍼어드민 계정 생성 기능 구현
- [x] 수퍼어드민 자금관리 대시보드 인라인 스타일 적용
- [x] FinanceDashboard API 엔드포인트 수정 (403 오류 해결)
- [x] 상담사 전화번호 복호화 기능 구현
- [x] 어드민 대시보드 파스텔 톤 색상 변경 (그라데이션 제거)
- [x] 통계 대시보드 인라인 스타일 적용 및 아이콘 수정
- [x] 스케줄 등록 화면 CSS 충돌 해결 및 인라인 스타일 적용
- [x] 공통 LoadingSpinner 컴포넌트 구현 및 통일
- [x] ClientComprehensiveManagement 컴포넌트 인라인 스타일 적용
- [x] 내담자 관리 영어 상태 표시 한글화
- [x] 회원등급 아이콘 추가 (브론즈🥉, 실버🥈, 골드🥇, 플래티넘💎)
- [x] 내담자 총 상담 횟수 표시 오류 해결
- [x] API 엔드포인트 통일 및 오류 수정
- [x] 중복 로그인 방지 시스템 구현
- [x] 사용자 세션 관리 및 추적 시스템 구현
- [x] 중복 로그인 감지 및 알림 기능 구현
- [x] 세션 자동 정리 및 만료 관리 시스템 구현
- [x] ERP 시스템 완전 구현 (아이템 관리, 구매 요청, 구매 주문, 예산 관리)
- [x] ERP 시스템 역할 기반 접근 제어 (어드민/수퍼어드민)
- [x] ERP 시스템 프론트엔드 컴포넌트 구현
- [x] 어드민 대시보드에 ERP 관리 섹션 추가
- [x] Redis 기반 캐시 시스템 구현
- [x] Hibernate Lazy Loading JSON 직렬화 문제 해결
- [x] 공통코드 시스템 통합 (code_groups + code_values → common_codes)
- [x] 기존 38개 코드 그룹 데이터 마이그레이션 완료
- [x] 모든 프론트엔드 컴포넌트 API 엔드포인트 통합
- [x] 스케줄 관리 시스템 개선 (지난 시간 비활성화, 동적 슬롯 업데이트)
- [x] 세션 관리 개선 (401 오류 조용히 처리)
- [x] 스케줄 생성 검증 강화 (endTime NaN 오류 해결)
- [x] 재무 거래 공통 코드 시스템 구축 완료
- [x] 통합 재무 관리 시스템 구현 (수입/지출 통합 대시보드)
- [x] 대차대조표 및 손익계산서 구현
- [x] 일/월/년 단위 재무 리포트 시스템 구현
- [x] 자동 부가세 계산 시스템 구현
- [x] 반복 지출 관리 시스템 구현
- [x] 적립금 관리 시스템 구현
- [x] ERP 시스템과 재무 관리 시스템 통합
- [x] 구매 승인 시 자동 지출 거래 생성
- [x] 급여 계산 시 자동 지출 거래 생성
- [x] 결제 승인 시 자동 수입 거래 생성
- [x] 프론트엔드 재무 관리 컴포넌트 구현
- [x] 공통 코드 기반 드롭다운 구성
- [x] 빠른 지출 등록 기능 구현
- [x] 내담자 대시보드 중복 카드 제거 (기존 고정 카드들과 개인화 메시지 시스템 중복 해결)
- [x] 개인화 메시지 카드에 클릭 기능 및 자세히 보기 링크 추가
- [x] 내담자 매핑 API 오류 수정 (URL 파라미터 형식 수정)
- [x] 내담자용 오늘의 상담 큰 카드 구현 (중요한 정보는 유지하면서 중복만 제거)
- [x] 매핑 API 임시 비활성화 (500 에러 해결을 위해 기본값으로 설정)
- [x] 불필요한 링크 제거 (건강한 마음 카드에서 자세히 보기 링크 제거)
- [x] 상담사 목록 모달 구현 (상담사가 있으면 목록 표시, 없으면 안내 메시지 표시)

### ❌ 취소된 항목
- [x] ~~수퍼어드민 계정 생성 페이지 구현~~ (불필요하여 취소)

### 🔄 진행 중인 항목
- 없음

### ⏳ 대기 중인 항목 (프랜차이즈화를 위한 단계별 개발)

#### 🏢 **1단계: 결제 및 재무 시스템** ✅ **완료**
- [x] 결제 대행사 API 연동 (토스페이먼츠/아임포트) ✅
- [x] 결제 Webhook 엔드포인트 구현 ✅
- [x] 실시간 결제 상태 확인 기능 구현 ✅
- [x] 입금 확인 자동화 시스템 구현 ✅
- [x] 수퍼어드민 재무 관리에 결제 확인 기능 추가 ✅
- [x] 결제 실패/취소 처리 로직 구현 ✅
- [x] 결제 내역 조회 및 통계 기능 구현 ✅
- [x] 결제 보안 및 암호화 구현 ✅

#### 🏪 **2단계: 지점 관리 시스템** (우선순위: 높음)
- [x] 지점(Branch) 엔티티 및 데이터베이스 설계 ✅
- [x] 지점 등록/수정/삭제 기능 구현 ✅
- [x] 지점별 상담사/내담자 관리 시스템 ✅
- [x] 지점별 스케줄 및 예약 관리 ✅
- [x] 지점별 통계 및 리포트 시스템 ✅
- [x] 지점별 권한 관리 시스템 ✅
- [ ] **지점 관리 화면 개발** (우선순위: 높음)
  - [ ] 지점 목록 조회 화면 (BranchList.js)
  - [ ] 지점 등록/수정 화면 (BranchForm.js)
  - [ ] 지점 상세 정보 화면 (BranchDetail.js)
  - [ ] 지점별 상담사 관리 화면 (BranchConsultantManagement.js)
  - [ ] 지점별 내담자 관리 화면 (BranchClientManagement.js)
  - [ ] 지점별 통계 대시보드 화면 (BranchStatisticsDashboard.js)
  - [ ] 지점별 성과 비교 화면 (BranchPerformanceComparison.js)
  - [ ] 지점별 권한 관리 화면 (BranchPermissionManagement.js)

#### 👥 **3단계: 사용자 역할 확장** (우선순위: 중간)
- [ ] 지점장(BRANCH_MANAGER) 역할 추가
- [ ] 지점별 관리자 권한 시스템 구현
- [ ] 지점별 데이터 격리 및 보안 구현
- [ ] 지점 간 사용자 이동/이전 기능
- [ ] 지점별 설정 및 커스터마이징

#### 📊 **4단계: 통합 관리 시스템** (우선순위: 중간)
- [ ] 본사-지점 간 데이터 동기화
- [ ] 지점별 성과 모니터링 대시보드
- [ ] 지점별 수익/비용 관리 시스템
- [ ] 지점 간 상담사 공유 시스템
- [ ] 통합 고객 관리 시스템

#### 🔧 **5단계: 운영 자동화** (우선순위: 낮음)
- [ ] 지점별 자동 정산 시스템
- [ ] 지점별 인센티브 관리 시스템
- [ ] 지점별 마케팅 도구 제공
- [ ] 지점별 교육/훈련 관리 시스템
- [ ] 지점별 고객 만족도 조사 시스템

#### 🌐 **6단계: 확장성 및 성능** (우선순위: 낮음)
- [ ] 멀티 테넌트 아키텍처 구현
- [ ] 지점별 독립 데이터베이스 설계
- [ ] CDN 및 캐싱 시스템 구축
- [ ] API 레이트 리미팅 및 보안 강화
- [ ] 모니터링 및 알림 시스템 구축

---

## 🎯 상세 TODO 항목

### 💳 1단계: 결제 및 재무 시스템

**목표**: 프랜차이즈 운영을 위한 안정적인 결제 및 재무 관리 시스템 구축

#### 1. 결제 대행사 API 연동
- **상태**: 대기 중
- **우선순위**: 높음
- **설명**: 토스페이먼츠 또는 아임포트 API를 연동하여 결제 기능 구현
- **세부 작업**:
  - API 키 설정 및 환경변수 관리
  - 결제 요청/응답 처리 로직 구현
  - 에러 핸들링 및 재시도 로직 구현

#### 2. 결제 Webhook 엔드포인트 구현
- **상태**: 대기 중
- **우선순위**: 높음
- **설명**: 결제 대행사로부터 실시간 결제 상태 알림을 받는 Webhook 구현
- **세부 작업**:
  - Webhook 엔드포인트 생성 (`/api/payment/webhook`)
  - 서명 검증 로직 구현
  - 결제 상태 업데이트 로직 구현

#### 3. 실시간 결제 상태 확인 기능 구현
- **상태**: 대기 중
- **우선순위**: 중간
- **설명**: 결제 상태를 실시간으로 확인하고 업데이트하는 기능
- **세부 작업**:
  - 결제 상태 조회 API 구현
  - 프론트엔드 실시간 업데이트 구현
  - 상태 변경 알림 기능 구현

#### 4. 입금 확인 자동화 시스템 구현
- **상태**: 대기 중
- **우선순위**: 중간
- **설명**: 계좌이체 입금을 자동으로 확인하는 시스템
- **세부 작업**:
  - 은행 API 연동 (가능한 경우)
  - 입금 확인 로직 구현
  - 수동 확인 기능 구현

#### 5. 수퍼어드민 재무 관리에 결제 확인 기능 추가
- **상태**: 대기 중
- **우선순위**: 중간
- **설명**: 수퍼어드민 대시보드에 결제 확인 및 관리 기능 추가
- **세부 작업**:
  - 결제 내역 조회 UI 구현
  - 결제 상태 관리 기능 구현
  - 결제 통계 및 분석 기능 구현

#### 6. 결제 실패/취소 처리 로직 구현
- **상태**: 대기 중
- **우선순위**: 중간
- **설명**: 결제 실패나 취소 시 처리 로직 구현
- **세부 작업**:
  - 실패/취소 이벤트 처리
  - 환불 처리 로직 구현
  - 사용자 알림 기능 구현

#### 7. 결제 내역 조회 및 통계 기능 구현
- **상태**: 대기 중
- **우선순위**: 낮음
- **설명**: 결제 내역을 조회하고 통계를 제공하는 기능
- **세부 작업**:
  - 결제 내역 데이터베이스 설계
  - 조회 및 필터링 기능 구현
  - 통계 및 리포트 기능 구현

#### 8. 결제 보안 및 암호화 구현
- **상태**: 대기 중
- **우선순위**: 높음
- **설명**: 결제 정보 보안 및 암호화 처리
- **세부 작업**:
  - 결제 정보 암호화 저장
  - PCI DSS 준수 사항 검토
  - 보안 감사 및 테스트

#### 9. 카카오 알림톡 연동 시스템 구현
- **상태**: 대기 중
- **우선순위**: 중간
- **설명**: 상담 예약, 취소, 완료 등에 대한 카카오 알림톡 발송 시스템
- **세부 작업**:
  - 카카오 알림톡 API 연동 설정
  - 알림톡 템플릿 등록 및 관리
  - 상담 예약 알림톡 발송 기능
  - 상담 취소/변경 알림톡 발송 기능
  - 상담 완료 후 안내 알림톡 발송 기능
  - 알림톡 발송 로그 및 통계 관리
  - 알림톡 발송 실패 시 대체 알림 방법 구현

---

### 🏪 2단계: 지점 관리 시스템

**목표**: 프랜차이즈 지점별 독립 운영 및 통합 관리 시스템 구축

#### 1. 지점(Branch) 엔티티 및 데이터베이스 설계
- **상태**: 대기 중
- **우선순위**: 높음
- **설명**: 지점 정보를 관리하는 데이터베이스 구조 설계
- **세부 작업**:
  - Branch 엔티티 설계 (지점명, 주소, 연락처, 상태 등)
  - 지점별 설정 테이블 설계
  - 지점별 권한 테이블 설계

#### 2. 지점 등록/수정/삭제 기능 구현
- **상태**: 대기 중
- **우선순위**: 높음
- **설명**: 수퍼어드민이 지점을 관리할 수 있는 기능
- **세부 작업**:
  - 지점 CRUD API 구현
  - 지점 등록/수정 폼 구현
  - 지점 상태 관리 (활성/비활성/폐점)

#### 3. 지점별 상담사/내담자 관리 시스템
- **상태**: 대기 중
- **우선순위**: 높음
- **설명**: 지점별로 상담사와 내담자를 독립적으로 관리
- **세부 작업**:
  - 지점별 상담사 할당 시스템
  - 지점별 내담자 관리 시스템
  - 지점 간 상담사 이동 기능

#### 4. 지점별 스케줄 및 예약 관리
- **상태**: 대기 중
- **우선순위**: 높음
- **설명**: 지점별로 독립적인 스케줄 관리
- **세부 작업**:
  - 지점별 스케줄 조회/관리
  - 지점별 예약 시스템
  - 지점 간 상담사 공유 스케줄

#### 5. 지점별 통계 및 리포트 시스템
- **상태**: 대기 중
- **우선순위**: 중간
- **설명**: 지점별 성과 및 통계 관리
- **세부 작업**:
  - 지점별 매출 통계
  - 지점별 상담 건수 통계
  - 지점별 고객 만족도 통계

#### 6. 지점별 권한 관리 시스템
- **상태**: 대기 중
- **우선순위**: 중간
- **설명**: 지점장과 지점 관리자 권한 시스템
- **세부 작업**:
  - 지점장(BRANCH_MANAGER) 역할 정의
  - 지점별 데이터 접근 권한 제어
  - 지점별 기능 제한 설정

#### 7. 지점 관리 화면 개발
- **상태**: 대기 중
- **우선순위**: 높음
- **설명**: 지점 관리 시스템의 프론트엔드 화면 개발
- **세부 작업**:
  - **지점 목록 조회 화면 (BranchList.js)**:
    - 지점 목록 테이블 구현
    - 지점 검색 및 필터링 기능
    - 지점 상태별 필터링 (활성/비활성/폐점)
    - 지점 유형별 필터링 (본점/가맹점/직영점/제휴점)
    - 페이지네이션 및 정렬 기능
    - 지점 등록/수정/삭제 버튼
  
  - **지점 등록/수정 화면 (BranchForm.js)**:
    - 지점 기본 정보 입력 폼 (지점명, 주소, 연락처, 이메일)
    - 지점 유형 선택 (본점/가맹점/직영점/제휴점)
    - 지점 상태 설정 (활성/비활성/폐점)
    - 지점장 지정 기능
    - 지점별 설정 옵션
    - 폼 검증 및 오류 처리
  
  - **지점 상세 정보 화면 (BranchDetail.js)**:
    - 지점 기본 정보 표시
    - 지점별 상담사 목록
    - 지점별 내담자 목록
    - 지점별 통계 요약
    - 지점별 최근 활동 로그
    - 지점 수정/삭제 버튼
  
  - **지점별 상담사 관리 화면 (BranchConsultantManagement.js)**:
    - 지점별 상담사 목록 조회
    - 상담사 추가/제거 기능
    - 상담사 역할 및 권한 설정
    - 상담사별 성과 통계
    - 상담사 스케줄 관리
  
  - **지점별 내담자 관리 화면 (BranchClientManagement.js)**:
    - 지점별 내담자 목록 조회
    - 내담자 검색 및 필터링
    - 내담자 상담 이력 조회
    - 내담자 상태 관리
    - 내담자별 상담사 매핑
  
  - **지점별 통계 대시보드 화면 (BranchStatisticsDashboard.js)**:
    - 지점별 상담 건수 통계 (일/주/월/년)
    - 지점별 매출 통계 및 차트
    - 지점별 상담사 성과 통계
    - 지점별 고객 만족도 통계
    - 실시간 지점 현황 모니터링
    - 기간별 통계 조회 기능
  
  - **지점별 성과 비교 화면 (BranchPerformanceComparison.js)**:
    - 모든 지점 성과 비교 테이블
    - 지점별 순위 및 등급 표시
    - 성과 지표별 정렬 기능
    - 지점별 성과 트렌드 차트
    - 지점별 목표 대비 달성률
    - 성과 분석 리포트 다운로드
  
  - **지점별 권한 관리 화면 (BranchPermissionManagement.js)**:
    - 지점별 사용자 권한 설정
    - 지점장 권한 관리
    - 지점별 메뉴 접근 권한 설정
    - 권한 변경 이력 조회
    - 권한 승인/거부 워크플로우
    - 권한 템플릿 관리

---

### 👥 3단계: 사용자 역할 확장

**목표**: 프랜차이즈 운영을 위한 다양한 사용자 역할 및 권한 시스템 구축

#### 1. 지점장(BRANCH_MANAGER) 역할 추가
- **상태**: 대기 중
- **우선순위**: 중간
- **설명**: 지점을 관리하는 지점장 역할 추가
- **세부 작업**:
  - UserRole enum에 BRANCH_MANAGER 추가
  - 지점장 권한 정의 및 구현
  - 지점장 전용 대시보드 구현

#### 2. 지점별 관리자 권한 시스템 구현
- **상태**: 대기 중
- **우선순위**: 중간
- **설명**: 지점별로 다른 관리자 권한 설정
- **세부 작업**:
  - 지점별 권한 매트릭스 설계
  - 동적 권한 할당 시스템
  - 권한 변경 이력 관리

#### 3. 지점별 데이터 격리 및 보안 구현
- **상태**: 대기 중
- **우선순위**: 높음
- **설명**: 지점 간 데이터 격리 및 보안 강화
- **세부 작업**:
  - 지점별 데이터 필터링
  - 지점 간 데이터 접근 제한
  - 데이터 유출 방지 시스템

#### 4. 지점 간 사용자 이동/이전 기능
- **상태**: 대기 중
- **우선순위**: 낮음
- **설명**: 상담사나 내담자가 지점 간 이동할 수 있는 기능
- **세부 작업**:
  - 사용자 지점 변경 API
  - 지점 간 데이터 이전 로직
  - 이동 승인 워크플로우

#### 5. 지점별 설정 및 커스터마이징
- **상태**: 대기 중
- **우선순위**: 낮음
- **설명**: 지점별로 다른 설정 및 UI 커스터마이징
- **세부 작업**:
  - 지점별 테마 설정
  - 지점별 로고/브랜딩
  - 지점별 기능 활성화/비활성화

---

### 📊 4단계: 통합 관리 시스템

**목표**: 본사에서 모든 지점을 통합 관리할 수 있는 시스템 구축

#### 1. 본사-지점 간 데이터 동기화
- **상태**: 대기 중
- **우선순위**: 중간
- **설명**: 본사와 지점 간 실시간 데이터 동기화
- **세부 작업**:
  - 실시간 데이터 동기화 API
  - 충돌 해결 로직
  - 동기화 상태 모니터링

#### 2. 지점별 성과 모니터링 대시보드
- **상태**: 대기 중
- **우선순위**: 중간
- **설명**: 본사에서 모든 지점의 성과를 모니터링
- **세부 작업**:
  - 지점별 KPI 대시보드
  - 실시간 성과 알림
  - 성과 비교 분석

#### 3. 지점별 수익/비용 관리 시스템
- **상태**: 대기 중
- **우선순위**: 중간
- **설명**: 지점별 수익과 비용을 통합 관리
- **세부 작업**:
  - 지점별 매출 관리
  - 지점별 비용 관리
  - 수익성 분석 및 리포트

#### 4. 지점 간 상담사 공유 시스템
- **상태**: 대기 중
- **우선순위**: 낮음
- **설명**: 지점 간 상담사 공유 및 스케줄 관리
- **세부 작업**:
  - 상담사 공유 요청 시스템
  - 지점 간 스케줄 조율
  - 공유 상담사 관리

#### 5. 통합 고객 관리 시스템
- **상태**: 대기 중
- **우선순위**: 낮음
- **설명**: 모든 지점의 고객을 통합 관리
- **세부 작업**:
  - 통합 고객 데이터베이스
  - 고객 이력 추적
  - 고객 만족도 통합 관리

---

### 🔧 5단계: 운영 자동화

**목표**: 프랜차이즈 운영을 자동화하여 효율성 극대화

#### 1. 지점별 자동 정산 시스템
- **상태**: 대기 중
- **우선순위**: 낮음
- **설명**: 지점별 매출 자동 정산 및 지급
- **세부 작업**:
  - 자동 정산 로직 구현
  - 정산 리포트 생성
  - 지급 알림 시스템

#### 2. 지점별 인센티브 관리 시스템
- **상태**: 대기 중
- **우선순위**: 낮음
- **설명**: 지점별 성과에 따른 인센티브 자동 계산
- **세부 작업**:
  - 인센티브 계산 로직
  - 성과 기반 인센티브 지급
  - 인센티브 이력 관리

#### 3. 지점별 마케팅 도구 제공
- **상태**: 대기 중
- **우선순위**: 낮음
- **설명**: 지점별 마케팅을 위한 도구 제공
- **세부 작업**:
  - 마케팅 템플릿 제공
  - 고객 타겟팅 도구
  - 마케팅 성과 분석

#### 4. 지점별 교육/훈련 관리 시스템
- **상태**: 대기 중
- **우선순위**: 낮음
- **설명**: 지점 직원들의 교육 및 훈련 관리
- **세부 작업**:
  - 교육 과정 관리
  - 훈련 이수 추적
  - 자격증 관리

#### 5. 지점별 고객 만족도 조사 시스템
- **상태**: 대기 중
- **우선순위**: 낮음
- **설명**: 지점별 고객 만족도 자동 조사 및 분석
- **세부 작업**:
  - 자동 설문 조사 시스템
  - 만족도 분석 및 리포트
  - 개선사항 추천

---

### 🌐 6단계: 확장성 및 성능

**목표**: 대규모 프랜차이즈 운영을 위한 시스템 확장성 및 성능 최적화

#### 1. 멀티 테넌트 아키텍처 구현
- **상태**: 대기 중
- **우선순위**: 낮음
- **설명**: 지점별 독립적인 테넌트 환경 구축
- **세부 작업**:
  - 테넌트별 데이터 격리
  - 테넌트별 설정 관리
  - 테넌트별 리소스 할당

#### 2. 지점별 독립 데이터베이스 설계
- **상태**: 대기 중
- **우선순위**: 낮음
- **설명**: 지점별로 독립적인 데이터베이스 운영
- **세부 작업**:
  - 데이터베이스 분할 전략
  - 지점별 DB 마이그레이션
  - 데이터 백업 및 복구

#### 3. CDN 및 캐싱 시스템 구축
- **상태**: 대기 중
- **우선순위**: 낮음
- **설명**: 전국 지점의 빠른 서비스 제공
- **세부 작업**:
  - CDN 설정 및 최적화
  - 캐싱 전략 수립
  - 성능 모니터링

#### 4. API 레이트 리미팅 및 보안 강화
- **상태**: 대기 중
- **우선순위**: 낮음
- **설명**: 대규모 사용자를 위한 API 보안 및 성능 관리
- **세부 작업**:
  - API 레이트 리미팅 구현
  - DDoS 방어 시스템
  - 보안 모니터링

#### 5. 모니터링 및 알림 시스템 구축
- **상태**: 대기 중
- **우선순위**: 낮음
- **설명**: 전체 시스템 상태 모니터링 및 알림
- **세부 작업**:
  - 시스템 모니터링 대시보드
  - 장애 알림 시스템
  - 성능 분석 및 최적화

---

## 📊 진행률 통계

### 전체 진행률
- **전체 항목**: 46개
- **완료**: 18개 (39.1%) ✅ **스케줄 시스템 중앙화 + 대시보드 UI 개선 완료**
- **취소**: 1개 (2.2%)
- **대기**: 27개 (58.7%)

### 단계별 진행률
- **1단계 (결제 및 재무)**: 8/8 (100%) ✅ **완료**
- **2단계 (지점 관리)**: 6/7 (85.7%) ✅ **백엔드 완료, 화면 개발 대기**
- **3단계 (사용자 역할)**: 0/5 (0%)
- **4단계 (통합 관리)**: 0/5 (0%)
- **5단계 (운영 자동화)**: 0/5 (0%)

### 최근 완료된 주요 기능 (2025-09-16)
- ✅ **스케줄 시스템 중앙화**: API 통합 및 서비스 중앙화 완료
- ✅ **대시보드 UI 개선**: 2열 그리드 레이아웃으로 최대 8개 상담 표시
- ✅ **시간 슬롯 충돌 검사**: 예약된 시간대 비활성화 기능 구현
- ✅ **하드코딩 제거**: 공통 코드 시스템으로 동적 데이터 관리
- **6단계 (확장성 및 성능)**: 0/5 (0%)

---

## 🚀 다음 단계

### 🎯 **즉시 시작 가능한 작업**
1. **2단계: 지점 관리 화면 개발**
   - 지점 목록 조회 화면 (BranchList.js)
   - 지점 등록/수정 화면 (BranchForm.js)
   - 지점별 통계 대시보드 화면 (BranchStatisticsDashboard.js)
   - 지점별 성과 비교 화면 (BranchPerformanceComparison.js)

### 📋 **단계별 개발 계획**
1. **Phase 1 (1-3개월)**: 결제 시스템 + 지점 관리 기반
   - ✅ 결제 및 재무 시스템 완성
   - ✅ 지점 엔티티 및 기본 관리 기능 (백엔드)
   - 🔄 지점 관리 화면 개발 (프론트엔드)
   - 지점장 역할 추가

2. **Phase 2 (4-6개월)**: 통합 관리 시스템
   - 본사-지점 간 데이터 동기화
   - 지점별 성과 모니터링
   - 통합 고객 관리

3. **Phase 3 (7-12개월)**: 운영 자동화 및 확장
   - 자동 정산 및 인센티브 시스템
   - 마케팅 도구 및 교육 관리
   - 멀티 테넌트 아키텍처

### 🔧 **기술적 고려사항**
1. **결제 시스템**
   - PCI DSS 준수
   - 보안 및 암호화 강화
   - 실시간 모니터링

2. **지점 관리**
   - 데이터 격리 및 보안
   - 권한 관리 시스템
   - 성능 최적화

3. **확장성**
   - 마이크로서비스 아키텍처 고려
   - 데이터베이스 분할 전략
   - CDN 및 캐싱 시스템

---

## 📝 참고사항

- 모든 결제 관련 기능은 보안을 최우선으로 고려해야 함
- PCI DSS 준수 사항을 반드시 검토하고 준수해야 함
- 테스트 환경에서 충분한 검증 후 프로덕션 배포
- 사용자 개인정보보호법 및 관련 법규 준수

---

*마지막 업데이트: 2025-01-09*
