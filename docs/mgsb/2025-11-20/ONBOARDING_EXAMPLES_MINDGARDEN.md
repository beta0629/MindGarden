# MindGarden ì˜ˆì‹œ ì˜¨ë³´ë”©

**ì‘ì„±ì¼**: 2025-11-20  
**ë²„ì „**: 1.0.0  
**ìƒíƒœ**: ì™„ë£Œ

---

## ğŸ“‹ ê°œìš”

MindGardenì€ CONSULTATION ì—…ì¢…ì˜ ì‹¤ì œ êµ¬í˜„ ì˜ˆì‹œì…ë‹ˆë‹¤. ì´ ë¬¸ì„œëŠ” MindGardenì˜ ì˜¨ë³´ë”© í”„ë¡œì„¸ìŠ¤ë¥¼ ìƒì„¸íˆ ì •ë¦¬í•œ ê²ƒì…ë‹ˆë‹¤.

**âš ï¸ ì°¸ê³ **: MindGardenì˜ ì˜¨ë³´ë”© í”„ë¡œì„¸ìŠ¤ëŠ” CONSULTATION ì—…ì¢…ì˜ ì˜ˆì‹œì¼ ë¿ì´ë©°, ë‹¤ë¥¸ ìƒë‹´ì†ŒëŠ” ë‹¤ë¥¸ ì˜¨ë³´ë”© í”„ë¡œì„¸ìŠ¤ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ”„ MindGarden ì˜¨ë³´ë”© í”„ë¡œì„¸ìŠ¤

### ì „ì²´ í”„ë¡œì„¸ìŠ¤ íë¦„

```mermaid
flowchart TD
    A[ì˜¨ë³´ë”© ìš”ì²­] --> B[ì˜¨ë³´ë”© ì •ë³´ ì…ë ¥]
    B --> C[ë³¸ì‚¬ ê´€ë¦¬ì ìŠ¹ì¸ ëŒ€ê¸°]
    C --> D{ìŠ¹ì¸ ì—¬ë¶€}
    D -->|ê±°ë¶€| E[ê±°ë¶€ ì‚¬ìœ  ì „ë‹¬]
    D -->|ìŠ¹ì¸| F[í…Œë„ŒíŠ¸ ìƒì„±]
    F --> G[ê¸°ë³¸ ì—­í•  í…œí”Œë¦¿ ì ìš©]
    G --> H[ê¸°ë³¸ ëŒ€ì‹œë³´ë“œ ìƒì„±]
    H --> I[ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸ í™œì„±í™”]
    I --> J[ê¸°ë³¸ êµ¬ë… ìƒì„±]
    J --> K[ê¸°ë³¸ ê´€ë¦¬ì ê³„ì • ìƒì„±]
    K --> L[ì˜¨ë³´ë”© ì™„ë£Œ ì•Œë¦¼]
    L --> M[í…Œë„ŒíŠ¸ ê´€ë¦¬ì ìµœì´ˆ ë¡œê·¸ì¸]
    M --> N[ë¹„ë°€ë²ˆí˜¸ ë³€ê²½]
    N --> O[ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ì ‘ê·¼]
    E --> A
```

---

## ğŸ“ ë‹¨ê³„ë³„ ìƒì„¸ í”„ë¡œì„¸ìŠ¤

### 1ë‹¨ê³„: ì˜¨ë³´ë”© ìš”ì²­

**ì…ì ì‚¬ê°€ ìˆ˜í–‰í•˜ëŠ” ì‘ì—…:**
- ì˜¨ë³´ë”© ìš”ì²­ì„œ ì‘ì„±
- ì—…ì¢… ì„ íƒ: **CONSULTATION**
- ê¸°ë³¸ ì •ë³´ ì…ë ¥
  - ìƒë‹´ì†Œ ì´ë¦„
  - ì‚¬ì—…ì ì •ë³´
  - ëŒ€í‘œì ì •ë³´
  - ì—°ë½ì²˜ ì •ë³´
- ê²°ì œ ì •ë³´ ì…ë ¥
  - ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ
  - ìš”ê¸ˆì œ ì„ íƒ
- í•„ìˆ˜ ë™ì˜ ì‚¬í•­ í™•ì¸

**ì‹œìŠ¤í…œ ì²˜ë¦¬:**
- ì˜¨ë³´ë”© ìš”ì²­ ì €ì¥
- ë³¸ì‚¬ ê´€ë¦¬ìì—ê²Œ ì•Œë¦¼ ë°œì†¡

---

### 2ë‹¨ê³„: ë³¸ì‚¬ ê´€ë¦¬ì ìŠ¹ì¸

**ë³¸ì‚¬ ê´€ë¦¬ìê°€ ìˆ˜í–‰í•˜ëŠ” ì‘ì—…:**
- ì˜¨ë³´ë”© ìš”ì²­ ê²€í† 
- í•„ìˆ˜ ì •ë³´ í™•ì¸
- ìŠ¹ì¸ ë˜ëŠ” ê±°ë¶€ ê²°ì •

**ì‹œìŠ¤í…œ ì²˜ë¦¬:**
- ìŠ¹ì¸ ì‹œ ì˜¨ë³´ë”© í”„ë¡œì„¸ìŠ¤ ì‹œì‘

---

### 3ë‹¨ê³„: ê¸°ë³¸ ì—­í•  í…œí”Œë¦¿ ì ìš©

**ì‹œìŠ¤í…œ ìë™ ì²˜ë¦¬:**
- CONSULTATION ì—…ì¢… ê¸°ë³¸ ì—­í•  í…œí”Œë¦¿ ì¡°íšŒ
- í…œí”Œë¦¿ ê¸°ë°˜ í…Œë„ŒíŠ¸ ì—­í•  ìƒì„±

**ìƒì„±ë˜ëŠ” ì—­í• :**

| ì—­í•  ì½”ë“œ | ì—­í• ëª… | ì„¤ëª… |
|----------|--------|------|
| CLIENT | ë‚´ë‹´ì | ìƒë‹´ ì˜ˆì•½, ìƒë‹´ ë‚´ì—­ ì¡°íšŒ |
| CONSULTANT | ìƒë‹´ì‚¬ | ì¼ì • ê´€ë¦¬, ìƒë‹´ ê¸°ë¡ ì‘ì„± |
| ADMIN | ê´€ë¦¬ì | ìƒë‹´ì‚¬/ë‚´ë‹´ì ê´€ë¦¬, í†µê³„ ì¡°íšŒ |

---

### 4ë‹¨ê³„: ê¸°ë³¸ ëŒ€ì‹œë³´ë“œ ìƒì„±

**ì‹œìŠ¤í…œ ìë™ ì²˜ë¦¬:**
- ê° ê¸°ë³¸ ì—­í• ì— ëŒ€í•´ ëŒ€ì‹œë³´ë“œ ìë™ ìƒì„±

**ìƒì„±ë˜ëŠ” ëŒ€ì‹œë³´ë“œ:**

| ì—­í•  | ê¸°ë³¸ ëŒ€ì‹œë³´ë“œ ì´ë¦„ | dashboard_type |
|------|-------------------|----------------|
| CLIENT | ë‚´ë‹´ì ëŒ€ì‹œë³´ë“œ | CLIENT |
| CONSULTANT | ìƒë‹´ì‚¬ ëŒ€ì‹œë³´ë“œ | CONSULTANT |
| ADMIN | ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ | ADMIN |

---

### 5ë‹¨ê³„: ê¸°ë³¸ ê´€ë¦¬ì ê³„ì • ìƒì„±

**ì‹œìŠ¤í…œ ìë™ ì²˜ë¦¬:**
- ê¸°ë³¸ ê´€ë¦¬ì ê³„ì • ìƒì„±
  - ì´ë©”ì¼: ì˜¨ë³´ë”© ìš”ì²­ ì‹œ ì…ë ¥í•œ ì´ë©”ì¼
  - ì—­í• : ADMIN
  - `tenant_id` ì„¤ì •
- ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ìƒì„±
- ì´ë©”ì¼ ë°œì†¡ (ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ì•ˆë‚´)

---

### 6ë‹¨ê³„: í…Œë„ŒíŠ¸ ê´€ë¦¬ì ìµœì´ˆ ë¡œê·¸ì¸

**í…Œë„ŒíŠ¸ ê´€ë¦¬ìê°€ ìˆ˜í–‰í•˜ëŠ” ì‘ì—…:**
- ë¡œê·¸ì¸ í˜ì´ì§€ ì ‘ì† (`/login?tenantId={tenantId}`)
- ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸
- ìµœì´ˆ ë¡œê·¸ì¸ ê°ì§€ â†’ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ í™”ë©´ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
- ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
- ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ì ‘ê·¼ (`/admin/dashboard`)

**ì‹œìŠ¤í…œ ì²˜ë¦¬:**
- ìµœì´ˆ ë¡œê·¸ì¸ ê°ì§€
- ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ê°•ì œ
- ëŒ€ì‹œë³´ë“œ ë¼ìš°íŒ…

---

## ğŸ¯ ì—­í• ë³„ ì˜¨ë³´ë”© ì²´í¬ë¦¬ìŠ¤íŠ¸

### ê´€ë¦¬ì (ADMIN) ì˜¨ë³´ë”©

**ì˜¨ë³´ë”© í›„ í•„ìˆ˜ ì‘ì—…:**
- [ ] ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ (ìµœì´ˆ ë¡œê·¸ì¸ ì‹œ)
- [ ] ê¸°ë³¸ ì—­í•  í™•ì¸
  - [ ] ë‚´ë‹´ì ì—­í•  í™•ì¸
  - [ ] ìƒë‹´ì‚¬ ì—­í•  í™•ì¸
  - [ ] ê´€ë¦¬ì ì—­í•  í™•ì¸
- [ ] ê¸°ë³¸ ëŒ€ì‹œë³´ë“œ í™•ì¸
  - [ ] ë‚´ë‹´ì ëŒ€ì‹œë³´ë“œ í™•ì¸
  - [ ] ìƒë‹´ì‚¬ ëŒ€ì‹œë³´ë“œ í™•ì¸
  - [ ] ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ í™•ì¸
- [ ] ì‚¬ìš©ì ì¶”ê°€
  - [ ] ìƒë‹´ì‚¬ ì¶”ê°€
  - [ ] ë‚´ë‹´ì ì¶”ê°€
- [ ] ì‹œìŠ¤í…œ ì„¤ì • í™•ì¸
  - [ ] ê³µí†µì½”ë“œ í™•ì¸
  - [ ] ì•Œë¦¼ ì„¤ì • í™•ì¸

**ê¶Œì¥ ì‘ì—…:**
- [ ] ì‚¬ìš©ì ê´€ë¦¬ ê¸°ëŠ¥ íƒìƒ‰
- [ ] ì¼ì • ê´€ë¦¬ ê¸°ëŠ¥ í™•ì¸
- [ ] í†µê³„ ê¸°ëŠ¥ í™•ì¸
- [ ] ë¦¬í¬íŠ¸ ê¸°ëŠ¥ í™•ì¸

---

### ìƒë‹´ì‚¬ (CONSULTANT) ì˜¨ë³´ë”©

**ì˜¨ë³´ë”© í›„ í•„ìˆ˜ ì‘ì—…:**
- [ ] í”„ë¡œí•„ ì •ë³´ í™•ì¸/ìˆ˜ì •
- [ ] ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ (ìµœì´ˆ ë¡œê·¸ì¸ ì‹œ)
- [ ] ì¼ì • ê´€ë¦¬ ì„¤ì •
  - [ ] ìƒë‹´ ê°€ëŠ¥ ì‹œê°„ ì„¤ì •
  - [ ] ë°˜ë³µ ì¼ì • ì„¤ì • (í•„ìš”ì‹œ)
- [ ] í• ë‹¹ëœ ë‚´ë‹´ì í™•ì¸

**ê¶Œì¥ ì‘ì—…:**
- [ ] ì¼ì • ê´€ë¦¬ ê¸°ëŠ¥ íƒìƒ‰
- [ ] ìƒë‹´ ê¸°ë¡ ì‘ì„± ê¸°ëŠ¥ í™•ì¸
- [ ] ìƒë‹´ í†µê³„ í™•ì¸

---

### ë‚´ë‹´ì (CLIENT) ì˜¨ë³´ë”©

**ì˜¨ë³´ë”© í›„ í•„ìˆ˜ ì‘ì—…:**
- [ ] í”„ë¡œí•„ ì •ë³´ í™•ì¸/ìˆ˜ì •
- [ ] ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ (ìµœì´ˆ ë¡œê·¸ì¸ ì‹œ)
- [ ] ìƒë‹´ ì˜ˆì•½ ë°©ë²• í™•ì¸
- [ ] ìƒë‹´ ë‚´ì—­ í™•ì¸

**ê¶Œì¥ ì‘ì—…:**
- [ ] ìƒë‹´ ì˜ˆì•½ í…ŒìŠ¤íŠ¸
- [ ] ìƒë‹´ ë©”ì‹œì§€ ê¸°ëŠ¥ í™•ì¸
- [ ] ê²°ì œ ë‚´ì—­ í™•ì¸

---

## ğŸ”„ ì˜¨ë³´ë”© í”„ë¡œì„¸ìŠ¤ ìƒì„¸ í”Œë¡œìš°

### ì˜¨ë³´ë”© ìš”ì²­ â†’ ìŠ¹ì¸ â†’ ì™„ë£Œ í”Œë¡œìš°

```mermaid
sequenceDiagram
    participant Tenant
    participant OnboardingController
    participant OnboardingService
    participant HQAdmin
    participant PL/SQL Procedure
    participant TenantRepository
    participant RoleTemplateRepository
    participant TenantRoleRepository
    participant TenantDashboardRepository
    participant UserRepository
    
    Tenant->>OnboardingController: POST /api/v1/onboarding/request
    OnboardingController->>OnboardingService: createRequest()
    OnboardingService->>OnboardingController: OnboardingRequest
    OnboardingController-->>Tenant: ìš”ì²­ ì™„ë£Œ
    
    Note over HQAdmin,PL/SQL Procedure: HQ ìŠ¹ì¸
    
    HQAdmin->>OnboardingController: POST /api/v1/onboarding/approve
    OnboardingController->>OnboardingService: approveRequest()
    OnboardingService->>PL/SQL Procedure: ProcessOnboardingApproval()
    
    PL/SQL Procedure->>TenantRepository: INSERT INTO tenants
    PL/SQL Procedure->>RoleTemplateRepository: SELECT role_templates WHERE business_type='CONSULTATION'
    PL/SQL Procedure->>TenantRoleRepository: INSERT INTO tenant_roles (3ê°œ)
    PL/SQL Procedure->>TenantDashboardRepository: INSERT INTO tenant_dashboards (3ê°œ)
    
    PL/SQL Procedure-->>OnboardingService: Success
    OnboardingService->>UserRepository: INSERT INTO users (ADMIN ê³„ì •)
    OnboardingService->>OnboardingService: ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ìƒì„± ë° ì´ë©”ì¼ ë°œì†¡
    OnboardingService-->>OnboardingController: OnboardingResponse
    OnboardingController-->>HQAdmin: ìŠ¹ì¸ ì™„ë£Œ
    OnboardingController-->>Tenant: ì˜¨ë³´ë”© ì™„ë£Œ ì•Œë¦¼
```

---

## ğŸ“Š MindGarden ì˜¨ë³´ë”© ë°ì´í„° êµ¬ì¡°

### í…Œë„ŒíŠ¸ ìƒì„± ì‹œ ìë™ ìƒì„±ë˜ëŠ” ë°ì´í„°

```
Tenant (í…Œë„ŒíŠ¸)
  â”œâ”€ tenant_id: "mindgarden-001"
  â”œâ”€ tenant_name: "MindGarden"
  â”œâ”€ business_type: "CONSULTATION"
  â””â”€ status: ACTIVE
      â†“
TenantRole (í…Œë„ŒíŠ¸ ì—­í• ) Ã— 3ê°œ
  â”œâ”€ CLIENT ì—­í• 
  â”‚   â”œâ”€ tenant_role_id: "role-client-001"
  â”‚   â”œâ”€ name_ko: "ë‚´ë‹´ì"
  â”‚   â””â”€ permissions: [...]
  â”œâ”€ CONSULTANT ì—­í• 
  â”‚   â”œâ”€ tenant_role_id: "role-consultant-001"
  â”‚   â”œâ”€ name_ko: "ìƒë‹´ì‚¬"
  â”‚   â””â”€ permissions: [...]
  â””â”€ ADMIN ì—­í• 
      â”œâ”€ tenant_role_id: "role-admin-001"
      â”œâ”€ name_ko: "ê´€ë¦¬ì"
      â””â”€ permissions: [...]
      â†“
TenantDashboard (í…Œë„ŒíŠ¸ ëŒ€ì‹œë³´ë“œ) Ã— 3ê°œ
  â”œâ”€ ë‚´ë‹´ì ëŒ€ì‹œë³´ë“œ
  â”‚   â”œâ”€ dashboard_id: "dashboard-client-001"
  â”‚   â”œâ”€ dashboard_name_ko: "ë‚´ë‹´ì ëŒ€ì‹œë³´ë“œ"
  â”‚   â””â”€ is_default: true
  â”œâ”€ ìƒë‹´ì‚¬ ëŒ€ì‹œë³´ë“œ
  â”‚   â”œâ”€ dashboard_id: "dashboard-consultant-001"
  â”‚   â”œâ”€ dashboard_name_ko: "ìƒë‹´ì‚¬ ëŒ€ì‹œë³´ë“œ"
  â”‚   â””â”€ is_default: true
  â””â”€ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
      â”œâ”€ dashboard_id: "dashboard-admin-001"
      â”œâ”€ dashboard_name_ko: "ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ"
      â””â”€ is_default: true
      â†“
User (ê¸°ë³¸ ê´€ë¦¬ì ê³„ì •) Ã— 1ê°œ
  â”œâ”€ user_id: 1
  â”œâ”€ email: "admin@mindgarden.com"
  â”œâ”€ tenant_id: "mindgarden-001"
  â”œâ”€ role: ADMIN
  â””â”€ password: ì„ì‹œ ë¹„ë°€ë²ˆí˜¸
```

---

## âš ï¸ ì¤‘ìš” ì‚¬í•­

1. **MindGardenì€ ì˜ˆì‹œì¼ ë¿**
   - MindGardenì˜ ì˜¨ë³´ë”© í”„ë¡œì„¸ìŠ¤ëŠ” CONSULTATION ì—…ì¢…ì˜ ì˜ˆì‹œ
   - ë‹¤ë¥¸ ìƒë‹´ì†ŒëŠ” ë‹¤ë¥¸ ì˜¨ë³´ë”© í”„ë¡œì„¸ìŠ¤ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŒ

2. **ìë™ ìƒì„± í•­ëª©**
   - ê¸°ë³¸ ì—­í•  í…œí”Œë¦¿ ê¸°ë°˜ ì—­í•  ìƒì„±
   - ê¸°ë³¸ ëŒ€ì‹œë³´ë“œ ìë™ ìƒì„±
   - ê¸°ë³¸ ê´€ë¦¬ì ê³„ì • ìë™ ìƒì„±

3. **ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥ í•­ëª©**
   - ì—­í• ëª… ìˆ˜ì •
   - ê¶Œí•œ ì¶”ê°€/ìˆ˜ì •
   - ëŒ€ì‹œë³´ë“œ ì´ë¦„ ìˆ˜ì •
   - ëŒ€ì‹œë³´ë“œ ì„¤ì • ìˆ˜ì •

---

## ğŸ”— ê´€ë ¨ ë¬¸ì„œ

- [ì˜¨ë³´ë”© íŒ¨í„´](./ONBOARDING_PATTERNS.md)
- [ì—­í• ë³„ ì˜¨ë³´ë”© ê°€ì´ë“œ](./ONBOARDING_GUIDE_BY_ROLE.md)
- [í…Œë„ŒíŠ¸ ëŒ€ì‹œë³´ë“œ ê´€ë¦¬ ì‹œìŠ¤í…œ](../TENANT_DASHBOARD_MANAGEMENT_SYSTEM.md)

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-11-20

